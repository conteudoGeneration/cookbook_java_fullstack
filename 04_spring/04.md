<h1>Projeto 02 - Blog Pessoal - Iniciando o Projeto Spring</h1>

O que veremos por aqui:

1. Apresenta√ß√£o do Projeto Blog Pessoal
2. Criar o Projeto no STS
3. Conhecer o arquivo pom.xml
4. Configurar o Banco de dados no arquivo application.properties

<br />

<h2>1. O Projeto Blog Pessoal</h2>

O Projeto Blog Pessoal ser√° o nosso Projeto Guia no aprendizado do Framework Spring e suas principais funcionalidades. Todo o c√≥digo que implementarmos no projeto Blog Pessoal servir√° de base para a constru√ß√£o do Projeto Integrador, que sempre receber√° novas funcionalidades depois que voc√™ adquirir os conhecimentos necess√°rios atrav√©s do Blog Pessoal. Veja o Diagrama de Classes do Projeto Blog Pessoal completo na figura abaixo:

<div align="center"><img src="https://i.imgur.com/G71SCJ0.png" title="source: imgur.com" /></div>

<br />

O Projeto ser√° composto por 3 Recursos (*Conjunto de Classes e Interfaces respons√°veis por mapear um tipo de Objeto e persistir no Banco de dados Relacional*) e uma Classe auxiliar:

| Classe           | Descri√ß√£o                                                    |
| ---------------- | ------------------------------------------------------------ |
| **Postagem**     | Recurso respons√°vel por definir Objeto Postagem (posts) do Blog Pessoal |
| **Tema**         | Recurso respons√°vel por classificar as postagens atrav√©s do Objeto Tema |
| **Usuario**      | Recurso respons√°vel por definir o Objeto Usu√°rio, que poder√° acessar e criar postagens no Blog Pessoal |
| **UsuarioLogin** | Classe auxiliar, que ser√° utilizada para efetuar login no Blog Pessoal |

Cada Recurso ir√° gerar uma tabela no Banco de dados da aplica√ß√£o. A Classe auxiliar n√£o ir√° gerar uma tabela no Banco de dados da aplica√ß√£o porqu√™ ela servir√° de Classe auxiliar na implementa√ß√£o da Seguran√ßa da aplica√ß√£o. Os Recursos ser√£o implementados na mesma sequ√™ncia da tabela acima. Veja o Diagrama de Entidade e Relacionamentos do Projeto Blog Pessoal completo na figura abaixo:

<div align="center"><img src="https://i.imgur.com/zmzehFU.png" title="source: imgur.com" /></div>

Antes de come√ßar a criar as nossas Classes, vamos criar o nosso Projeto Spring Boot no **Spring Initializr** dentro do STS e configurar o Banco de dados da aplica√ß√£o.

<br />

 <h2>üë£ Passo 01 - Abrindo o Spring Initializr no STS</h2>

No projeto 01 - Hello World, n√≥s criamos o projeto atrav√©s do site **Spring Initializr (https://start.spring.io**). No Projeto Blog Pessoal veremos que tamb√©m √© poss√≠vel acessar o Spring Initializr e criar o nosso projeto dentro do STS (Spring Tools Suite). A grande vantagem de utilizarmos o Spring Initializr dentro do STS √© que al√©m de criar o projeto, ele descompacta, abre o projeto e baixa todas as Depend√™ncias do Spring selecionadas automaticamente.

1. Abra o **STS - Spring Tools Suite**

<div align="center"><img src="https://i.imgur.com/6WxS1Qx.png?1" title="source: imgur.com" /></div>

2. Clique no menu **File** e clique na op√ß√£o **New ü°™ Spring Starter Project**.

<div align="center"><img src="https://i.imgur.com/I0XBHw1.png" title="source: imgur.com" /></div>

3. Ser√° aberta a janela **New Spring Starter Project**.

<div align="center"><img src="https://i.imgur.com/wX6HMNK.png" title="source: imgur.com" /></div>

<br />

<h2>üë£ Passo 02 - Setup do Projeto</h2>

<h3>2.1 Configura√ß√µes iniciais</h3>

Vamos configurar o template inicial do nosso projeto conforme a figura abaixo:

<div align="center"><img src="https://i.imgur.com/Uh4sMH8.png" title="source: imgur.com" /></div>

<br />

| Item             | Descri√ß√£o                                                    |
| ---------------- | ------------------------------------------------------------ |
| **Name**         | Nome do Projeto (Geralmente em letras min√∫sculas)            |
| **Type**         | Define o Gerenciador de Depend√™ncias (Maven)                 |
| **Packaging**    | Define como a aplica√ß√£o ser√° compactada (JAR)                |
| **Java Version** | Vers√£o do Java (A vers√£o **LTS - Long Time Support** atual √© a 17) |
| **Language**     | Linguagem de programa√ß√£o que ser√° utilizada (Java)           |
| **Group**        | O dom√≠nio reverso de sua empresa ou organiza√ß√£o. **Exemplo:** *generation.com* ü°™ ***com.generation*** |
| **Artifact**     | O artefato a ser gerado, ou seja, o nome da aplica√ß√£o que ser√° criada (Mesmo nome do projeto) |
| **Version**      | Vers√£o da API (n√£o alterar)                                  |
| **Description**  | Descri√ß√£o do projeto                                         |
| **Package**      | Estrutura do pacote inicial da aplica√ß√£o (Group + Artifact). Exemplo: ***<u>com.generation.blogpessoal</u>*** |

<br />

Clique em **Next** para continuar.

<br />

**2.2 Depend√™ncias**

No projeto Blog Pessoal vamos inserir 5 depend√™ncias: **Spring Web, Spring Boot Dev Tools, Spring Data JPA, MySQL Driver e Validation**. 

1. Na janela **New Spring Starter Project Dependencies**, vamos adicionar as Depend√™ncias.

2. No item **Spring Boot Version**, defina a vers√£o do Spring.

<div align="center"><img src="https://i.imgur.com/5bK6pZp.png" title="source: imgur.com"/></div>

| <img src="https://i.imgur.com/hOgWvSc.png" title="source: imgur.com" width="80px"/> | <div align="left"> **ATEN√á√ÉO:** *Na √©poca em que este material foi escrito, a vers√£o atual do Spring Boot era 3.0.4. Como os Spring atualiza a sua vers√£o com frequ√™ncia, a vers√£o atual do Spring Boot pode ser outra. Em caso de d√∫vidas, verifique com o seu instrutor.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

3. Na caixa de pesquisa **Available** (indicada na figura abaixo por um ret√¢ngulo vermelho), digite o nome da depend√™ncia que voc√™ deseja adicionar. Marque a caixa de sele√ß√£o ao lado do nome da Depend√™ncia para adicionar (indicada na figura com uma seta vermelha)

<div align="center"><img src="https://i.imgur.com/w2hxlj9.png" title="source: imgur.com" /></div>

4. Repita o **item 3** para adicionar as demais Depend√™ncias. A lista de **Depend√™ncias do Projeto Blog Pessoal** voc√™ confere na tabela abaixo:

| Depend√™ncia               | Descri√ß√£o                                                    |
| ------------------------- | ------------------------------------------------------------ |
| **Spring Web**            | A primeira depend√™ncia adicionada no item 3, fornece todas as Bibliotecas necess√°rias para criar um projeto WEB e trabalhar com o protocolo HTTP/HTTPS. |
| **Spring Boot Dev Tools** | Permite a atualiza√ß√£o do projeto em tempo real durante o processo de Desenvolvimento da aplica√ß√£o. |
| **Validation**            | Fornece um conjunto de anota√ß√µes que permitem validar os Atributos das Classes da Camada Model. |
| **Spring Data JPA**       | Java Persistence API (JPA) √© uma Biblioteca que armazena e recupera Objetos, que foram persistidos (armazenados) em um Bancos de Dados. |
| **MySQL Driver**          | Respons√°vel pela conex√£o entre nossa aplica√ß√£o e o Banco de Dados MySQL. <br />Se alterarmos o Sistema Gerenciador de Banco de dados - SGBD da aplica√ß√£o (Postgre SQL, SQL server, Oracle, entre outros) precisaremos alterar o Driver da nossa aplica√ß√£o. |

5. Ap√≥s adicionar as cinco Depend√™ncias listadas acima, o item **Selected** estar√° igual a figura abaixo:

<div align="center"><img src="https://i.imgur.com/AjG0Cga.png" title="source: imgur.com" /></div>


6. Clique no bot√£o **Finish** para concluir.

<br />

<h2>üë£ Passo 03 - Importando o Projeto no STS</h2>

O projeto ser√° automaticamente importado pelo **STS**, na pasta **Workspace** selecionada.

| <img src="https://i.imgur.com/hOgWvSc.png" title="source: imgur.com" width="120px"/> | <div align="left"> **ATEN√á√ÉO:** *A pasta Workspace do STS geralmente est√° localizada em: C:\Users\seu_usuario\Documents\workspace-spring-tool-suite-4-4.NN.N.RELEASE, onde NN.N √© a vers√£o do STS (4.17.2, por exemplo)* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

1. Aguarde a conclus√£o do processo de download das Depend√™ncias. Voc√™ pode acompanhar o progresso no canto direito inferior do STS, conforme mostra a figura abaixo:

<div align="center"><img src="https://i.imgur.com/e4QxF3W.png" title="source: imgur.com" /></div>

2. A partir da **vers√£o 4.17.0 do STS**, foi adicionado um novo recurso, chamado: **Spring Java Reconcile**, que oferece algumas sugest√µes e corre√ß√µes r√°pidas, espec√≠ficas do **Framework Spring**. Essa op√ß√£o ser√° exibida durante a importa√ß√£o do Projeto Spring, no canto direito inferior do STS (mesmo local onde voc√™ acompanha o status da importa√ß√£o do projeto), conforme mostra a figura abaixo: 

<div align="center"><img src="https://i.imgur.com/nsZULiM.png" title="source: imgur.com" /></div>

3. Para aceitar esta op√ß√£o, clique no bot√£o **Yes**, conforme indicado pela seta vermelha, na imagem acima.

> **Exemplos de valida√ß√µes:**
>
> - Inje√ß√µes de Depend√™ncias;
> - Anota√ß√µes que podem ser removidas;
> - Uso correto das Anota√ß√µes;
> - Entre outras.

4. A estrutura do nosso projeto importado para o STS Ô¨Åcar√° semelhante a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/TnneXGj.png" title="source: imgur.com" /></div>

<br />

<h2>üë£ Passo 04 - O arquivo pom.xml</h2>

O **POM** (**Project Object Model** - "Projeto Modelo do Objeto"), √© um arquivo **XML** (**eXtensible Markup Language**), que dentro do contexto de um projeto Maven, √© o arquivo mais importante do projeto. O POM guarda todas as informa√ß√µes b√°sicas de um projeto Maven, bem como as diretivas de como o artefato (resultado) final deste projeto deve ser constru√≠do. 

Dentro do POM colocamos as informa√ß√µes de todas as Depend√™ncias (Bibliotecas), que o nosso projeto necessita para funcionar e que o Maven se encarregar√° de efetuar o download e inserir no **Build Path** (Caminho para as Bibliotecas utilizadas pelo compilador Java para construir o projeto final) e **Classpath** (Caminho para os pacotes utilizados no projeto durante o desenvolvimento das Classes, ou seja, as instru√ß√µes Import inseridas no inicio das nossas Classes).

O Maven ir√° buscar por essas Depend√™ncias em locais chamados **Reposit√≥rios**. Existem basicamente dois Reposit√≥rios: 

- O **Reposit√≥rio Local**, que est√° localizado na pasta **.m2/repository**, onde o Maven baixa todas as Bibliotecas utilizadas nos seus projetos. 
- O **Reposit√≥rio Remoto Maven Repository**, que √© o Reposit√≥rio padr√£o e oficial do Maven, onde ficam armazenadas as Depend√™ncias Oficiais do Spring.

| <img src="https://i.imgur.com/hOgWvSc.png" title="source: imgur.com" width="80px"/> | <div align="left"> **ATEN√á√ÉO:** *A pasta .m2 geralmente est√° localizada no seu computador em: C:\Users\seu usuario\\.m2\repository* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

Ao adicionar uma Depend√™ncia no seu Projeto Spring, o Maven primeiro realiza a busca no Reposit√≥rio Local. Se a Depend√™ncia n√£o for encontrada, o Maven ir√° buscar as Depend√™ncias no Reposit√≥rio Remoto e far√° o download no Reposit√≥rio Local. Ap√≥s o download, o Maven disponibilizar√° esta Depend√™ncia no Reposit√≥rio Local para todos os seus Projetos Spring. Caso voc√™ necessite utilizar a mesma Depend√™ncia em outro projeto n√£o ser√° necess√°rio realizar o download novamente.

<h3>4.1. Estrutura b√°sica do arquivo pom.xml</h3>

Vamos analisar o arquivo pom.xml gerado em nosso Projeto Blog Pessoal:

```xml
<?xml version="1.0" encoding="UTF-8"?>
<project xmlns="http://maven.apache.org/POM/4.0.0"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
	xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd">
	<modelVersion>4.0.0</modelVersion>
```

A primeira parte informa a vers√£o do XML e a vers√£o do POM (4.0)

```xml
	<parent>
		<groupId>org.springframework.boot</groupId>
		<artifactId>spring-boot-starter-parent</artifactId>
		<version>3.0.4</version>
		<relativePath/>
		<!-- lookup parent from repository -->
	</parent>
```
A segunda parte informa que o Spring Boot ser√° o Projeto Pai (parent) do Projeto Blog Pessoal (child). Esta rela√ß√£o √© semelhante ao conceito de Heran√ßa da Programa√ß√£o Orientada √† Objetos (POO), onde o projeto Spring Blog Pessoal herdar√° todas as caracter√≠sticas de um Projeto Spring Boot. A vers√£o do Spring Boot poder√° ser diferente.

```xml
	<groupId>com.generation</groupId>
	<artifactId>blogpessoal</artifactId>
	<version>0.0.1-SNAPSHOT</version>
	<name>blogpessoal</name>
	<description>Projeto Blog Pessoal</description>
```

A terceira parte informa os dados que identificam o projeto (groupid, artifactId e version), que foram informados no **Spring Initializr** durante a constru√ß√£o do projeto.


```xml
	<properties>
		<java.version>17</java.version>
	</properties>
```

A quarta parte informa a vers√£o do Java. Neste item √© poss√≠vel configurar outras propriedades al√©m da vers√£o.

```xml
	<dependencies>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-data-jpa</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-validation</artifactId>
		</dependency>
		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-web</artifactId>
		</dependency>

		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-devtools</artifactId>
			<scope>runtime</scope>
			<optional>true</optional>
		</dependency>
		<dependency>
			<groupId>com.mysql</groupId>
			<artifactId>mysql-connector-j</artifactId>
			<scope>runtime</scope>
		</dependency>

		<dependency>
			<groupId>org.springframework.boot</groupId>
			<artifactId>spring-boot-starter-test</artifactId>
			<scope>test</scope>
		</dependency>
	</dependencies>
```

A quinta parte informa lista todas as Depend√™ncias que o projeto. A lista de Depend√™ncias foi criada no Spring Initializr durante a constru√ß√£o do projeto. Durante a implementa√ß√£o do projeto iremos inserir outras Depend√™ncias nesta parte de c√≥digo. 

```xml
	<build>
		<plugins>
			<plugin>
				<groupId>org.springframework.boot</groupId>
				<artifactId>spring-boot-maven-plugin</artifactId>
			</plugin>
		</plugins>
	</build>

</project>
```

Na sexta e ultima parte temos as informa√ß√µes de build que dizem como o projeto deve ser compilado pelo Maven. Nessa parte tamb√©m est√£o definidos quais plugins do Maven o nosso projeto necessita para ser compilado. 

<br />

<div align="left"><img src="https://i.imgur.com/S4GYUIM.png" title="source: imgur.com" width="25px"/> <a href="https://maven.apache.org/pom.html" target="_blank"><b>Documenta√ß√£o: <i>pom.xml</i></b></a></div>

<br />

<h2>üë£ Passo 05 - Configurar a Conex√£o com o Banco de dados</h2>

Diferente do **Projeto Hello World**, no **Projeto Blog Pessoal** vamos utilizar um Banco de dados para persistir os nossos Objetos, ou seja, gravar dados nas Tabelas. 

Antes de iniciarmos o processo de Desenvolvimento do c√≥digo das nossa Classes, precisamos configurar o acesso ao nosso Banco de dados, caso contr√°rio ao executar o projeto receberemos a mensagem de erro abaixo no Console, informando que o acesso ao Banco de dados n√£o foi configurado:

```bash
***************************
APPLICATION FAILED TO START
***************************

Description:

Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.

Reason: Failed to determine a suitable driver class


Action:

Consider the following:
	If you want an embedded database (H2, HSQL or Derby), please put it on the classpath.
	If you have database settings to be loaded from a particular profile you may need to activate it (no profiles are currently active).

```

A configura√ß√£o do Banco de dados ser√° implementada no arquivo **application.properties**, localizado na Source Folder **src/main/resources**, como mostra a figura abaixo:

<div align="center"><img src="https://i.imgur.com/oeSXHIt.png" title="source: imgur.com" /></div>

Os **Arquivos de Propriedades** (properties) s√£o usados para manter diversas propriedades do projeto em um √∫nico arquivo para executar o aplicativo em um ambiente diferente. Neste arquivo voc√™ pode configurar al√©m do Banco de dados o Spring Mail para enviar e-mails pela aplica√ß√£o, Configura√ß√µes espec√≠ficas do Servidor, entre outras.

<br />

<div align="left"><img src="https://i.imgur.com/mw7d1xn.png" title="source: imgur.com" width="25px"/> <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/application-properties.html" target="_blank"><b>Documenta√ß√£o: application.properties</b></a></div>

<br />

| <img src="https://i.imgur.com/vVDBDG0.png" title="source: imgur.com" width="200px"/> | <div align="left"> **ALERTA DE BSM:** *Mantenha a Aten√ß√£o aos Detalhes ao inserir as configura√ß√µes do Banco de dados no arquivo application.properties, especialmente na linha 3, que possui muitas varia√ß√µes entre letras min√∫sculas e mai√∫sculas.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

Para configurar o nosso Banco de dados MySQL, vamos Inserir as linhas abaixo no arquivo **application.properties**.

```properties
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database=mysql
spring.datasource.url=jdbc:mysql://localhost/db_blogpessoal?createDatabaseIfNotExist=true&serverTimezone=America/Sao_Paulo&useSSl=false
spring.datasource.username=root
spring.datasource.password=root
spring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver

spring.jpa.show-sql=true
spring.jpa.properties.hibernate.dialect = org.hibernate.dialect.MySQLDialect

spring.jpa.properties.jakarta.persistence.sharedCache.mode=ENABLE_SELECTIVE

spring.jackson.date-format=yyyy-MM-dd HH:mm:ss
spring.jackson.time-zone=America/Sao_Paulo
```

<br />

| <img src="https://i.imgur.com/oScAYGc.png" title="source: imgur.com" width="80px"/> | <div align="left"> **ATEN√á√ÉO:** *N√£o insira coment√°rios no arquivo application.properties. Ao final do Bloco 2 faremos o Deploy na nuvem e geralmente coment√°rios causam erros de compila√ß√£o do projeto durante o Deploy.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

<h3>Configura√ß√µes da Conex√£o com o Banco de dados</h3>

| Item                                                         | Descri√ß√£o                                                    |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| **spring.jpa.hibernate.ddl-auto**                            | Define como o JPA ir√° inicializar o Banco de dados. <br />**update** ‚á® O modelo de objeto criado com base nas Anota√ß√µes na Classe Model √© comparado com o esquema existente, e ent√£o o Hibernate atualiza o esquema de acordo com as diferen√ßas. Ele nunca exclui as tabelas ou colunas, mesmo que n√£o sejam mais utilizadas. Nesta op√ß√£o os dados persistidos n√£o ser√£o apagados. Veja as outras op√ß√µes no <a href="#anexo2" >Anexo I</a>. |
| **spring.jpa.database**                                      | Define o SGBD que ser√° utilizado (MySQL)                     |
| **spring.datasource.url**                                    | Define os dados da conex√£o com o Banco de dados: <br /><br />**jdbc:mysql://localhost/db_blogpessoal** ‚á® **endere√ßo** (jdbc:mysql://localhost/) + **nome do Banco** (db_blogpessoal) <br /><br />**?createDatabaseIfNotExist=true** ‚á® criar automaticamente o Banco de dados no MySQL caso ele n√£o exista (true) <br /><br />**&serverTimezone=America/Sao_Paulo** ‚á® define o fuso horario do servidor MySQL (America/Sao_Paulo) <br /><br />**&useSSl=false** ‚á® desabilita a camada de seguran√ßa da conex√£o com o MySQL (SSL) |
| **spring.datasource.username**                               | Define o usu√°rio do MySQL (root).                            |
| **spring.datasource.password**                               | Define a senha do usu√°rio do MySQL (root).                   |
| **spring.datasource.driver-class-name**                      | Informa o nome do Driver do Banco de dados.                  |
| **spring.jpa.show-sql**                                      | Exibe todas as Queries SQL no Console do STS durante a execu√ß√£o da aplica√ß√£o. |
| **spring.jpa.properties.hibernate.dialect**                  | Configura o dialeto que ser√° utilizado pelo **Hibernate (Object Relation Mapping - ORM)**, para converter as consultas no padr√£o HQL (Hibernate Query Language) em consultas SQL nativas, de acordo com o SGBD do projeto. Como o Hibernate √© agn√≥stico, ou seja, independente de banco de dados, ele pode trabalhar com diferentes Bancos de dados. Em nosso caso, vamos indicar o dialeto do MySQL (**org.hibernate.dialect.MySQLDialect**). |
| **spring.jpa.properties.jakarta.persistence.sharedCache.mode** | Desabilita a vers√£o antiga do JPA. At√© a **vers√£o 2.7.9 do Spring**, o JPA utilizava o **pacote javax**. A partir da **vers√£o 3.0.0 do Spring**, o JPA passou a utilizar o **pacote jakarta**.<br />Como o Hibernate, por quest√µes de compatibilidade, mant√©m os 2 pacotes habilitados, se n√£o configurarmos esta op√ß√£o ser√° exibida uma mensagem de alerta (Warning) no console em rela√ß√£o a incompatibilidade (deprecated) com o pacote javax. |
| **spring.jackson.date-format**                               | Configura o formato da Data (**yyyy-MM-dd**) e da Hora (**HH:mm:ss**) da aplica√ß√£o |
| **spring.jackson.time-zone**                                 | Configura o fuso horario do servidor da aplica√ß√£o  |

<h2>Observa√ß√µes importantes:</h2>

- O Nome do banco de dados deve seguir o padr√£o **db_nome-do-banco**. O prefixo **db** indica que se trata de um Database (Banco de dados). O nome do banco √© recomendado que seja **o mesmo do projeto** (blogpessoal), em **letras min√∫sculas**, **sem espa√ßos em branco ou caracteres especiais e acentos**. Para separar as palavras em um nome composto, utilize o _ (underline). **Exemplo:** db_blog_pessoal.

- O endere√ßo **localhost** √© o endere√ßo local, ou seja, o seu pr√≥prio computador. Quando a aplica√ß√£o estiver na nuvem, o endere√ßo do Banco de dados ser√° alterado para um endere√ßo remoto.

- Para fins de aprendizagem, estamos utilizando no SGBD MySQL o usu√°rio **root**. Vale ressaltar que no mercado de trabalho, uma aplica√ß√£o em produ√ß√£o, jamais utilizar√° o usu√°rio root, por se tratar do usu√°rio administrador do SGBD, que tem plenos poderes sobre o Servidor. Em geral, o DBA (Database Administrator), cria um usu√°rio apenas com os direitos de acesso que a aplica√ß√£o ir√° precisar.

- Durante o Desenvolvimento da aplica√ß√£o, voc√™ pode manter a op√ß√£o: **spring.jpa.show-sql** habilitada (true). Em produ√ß√£o ela deve ser desabilitada.

- O **Hibernate** √© um framework para o mapeamento Objeto-Relacional escrito na linguagem Java, cujo objetivo √© diminuir a complexidade entre os programas Java, baseado no modelo Orientado a Objetos, que precisam trabalhar com um banco de dados do modelo Relacional (presente na maioria dos SGBD's). Em especial, no desenvolvimento de consultas e atualiza√ß√µes dos dados.

- **Open Session In View** √© a "sess√£o" (conex√£o), que fica aberta at√© o final da execu√ß√£o de uma consulta ao Banco de dados, via requisi√ß√£o http, que possibilita que os dados do Relacionamento entre entidades (tabelas), sejam recuperados a qualquer momento. Esta op√ß√£o foi desabilitada por quest√µes de performance da aplica√ß√£o.

- A configura√ß√£o do **fuso-hor√°rio** no **Servidor de Banco de dados** e no **Servidor da aplica√ß√£o** s√£o itens essenciais para evitar que a data e a hora incorretas sejam persistidas no Banco de dados, especialmente em Atributos do tipo Timestamp, que obt√©m a data e a hora do Servidor.

<br />

| <img src="https://i.imgur.com/hOgWvSc.png" title="source: imgur.com" width="110px"/> | <div align="left"> **ATEN√á√ÉO:** *Caso a senha do seu MySQL n√£o seja **root**, atualize a linha: **spring.datasource.password** inserindo a senha que voc√™ cadastrou no MySQL no momento da instala√ß√£o.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

| <img src="https://i.imgur.com/RfjtOFi.png" title="source: imgur.com" width="80px"/> | <div align="left"> **DICA:** *Caso voc√™ tenha esquecido a senha do seu usu√°rio root do MySQL, consulte o <a href="../00_ambiente/04_uninstall_mysql.md"><b>Guia de Reinstala√ß√£o do MySQL</b></a> e siga as instru√ß√µes.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="30px"/> <a href="https://github.com/rafaelq80/backend_blogpessoal_v3/tree/01_Banco_de_dados" target="_blank"><b>C√≥digo fonte do projeto</b></a></div>

<br />

<h2 id="anexo1">Anexo I - Principais Mensagens de Erro</h2>

| Erro                                                         | Descri√ß√£o                                                    |
| ------------------------------------------------------------ | ------------------------------------------------------------ |
| ***Failed to configure a DataSource: 'url' attribute is not specified and no embedded datasource could be configured.*** | A configura√ß√£o da conex√£o com o Banco de dados n√£o foi implementada. Configure a conex√£o com o Banco de dados no arquivo **application.properties**.<br />Caso o erro persista, experimente apagar a pasta **.m2**, localizada em: `C:\Users\<seu_usuario>\.m2` |
| ***Access denied for user 'root'@'localhost' (using password: YES)*** | O nome do usu√°rio ou a senha do seu Banco de dados est√° incorreta. Verifique qual foi a senha que voc√™ cadastrou na instala√ß√£o do seu MySQL e altere no arquivo **application.properties** |

<br />

<h2 id="anexo2">Anexo II - Modos de inicializa√ß√£o do Banco de dados</h2>

| Forma               | Descri√ß√£o                                                    |
| ----------------------- | ------------------------------------------------------------ |
| **update**              | O modelo de objeto criado com base nos mapeamentos (Anota√ß√µes na Classe Model), √© comparado com o esquema existente, e ent√£o o Hibernate atualiza o esquema de acordo com as diferen√ßas. Ele nunca exclui as tabelas ou colunas existentes, mesmo que n√£o sejam mais exigidas pelo aplicativo. Nesta op√ß√£o os dados persistidos n√£o s√£o apagados. |
| **create**              | O Hibernate primeiro elimina todas as tabelas existentes no Banco de dados e ent√£o cria novas tabelas. Com esta op√ß√£o todos os seus dados ser√£o perdidos a cada inicializa√ß√£o do projeto. |
| **create-drop**         | Semelhante ao create, com a adi√ß√£o de que o Hibernate ir√° descartar o banco de dados depois que todas as opera√ß√µes forem conclu√≠das. Esta op√ß√£o √© normalmente utilizada para testes de unidade. |
| **validate**            | Verifica apenas se a estrutura do Banco de dados corresponde √†s entidades definidas na **Classe Model**. Se o esquema n√£o corresponder, a inicializa√ß√£o do aplicativo lan√ßar√° um erro (Exception). |
| **none**                | Desativa a inicializa√ß√£o do Banco de dados.                  |

<br /><br />

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>
