<h1>Projeto 01 - Conta Banc√°ria - ContaController - Parte II</h1>



Na etapa anterior, criamos a classe **`ContaController`**, que **implementa a interface `ContaRepository`**. Essa interface define a assinatura dos m√©todos necess√°rios para manipular objetos das classes **`ContaCorrente`** e **`ContaPoupanca`**, armazenando-os em mem√≥ria por meio de uma estrutura **`List`**, instanciada como um **`ArrayList`**.

Foram implementados os m√©todos **`listarTodas()`** e **`cadastrar()`**, definidos na interface **`ContaRepository`**, al√©m de um m√©todo auxiliar chamado **`gerarNumeroConta()`**, respons√°vel por gerar um identificador num√©rico √∫nico para cada nova conta criada.

Na classe **`Menu`**, foram desenvolvidos os m√©todos correspondentes **`listarContas()`** e **`cadastrarConta()`**, que atuam como formul√°rios de entrada de dados. Esses m√©todos s√£o respons√°veis por capturar as informa√ß√µes fornecidas pelo usu√°rio via teclado e encaminhar para a classe **`ContaController`**, executando os respectivos m√©todos.

Nesta nova etapa, daremos continuidade √† implementa√ß√£o dos demais m√©todos do CRUD, previstos na interface **`ContaRepository`**, bem como dos m√©todos auxiliares que apoiam a manipula√ß√£o, consulta e organiza√ß√£o das contas armazenadas na aplica√ß√£o.

A estrutura final do projeto, representada pelo **Diagrama de Classes**, ficar√° conforme apresentado a seguir:

```mermaid
classDiagram
class Conta {
<<Abstract>>
  - numero : int
  - agencia : int
  - tipo : int
  - titular : String
  - saldo : float
  + int getNumero()
  + int getAgencia()
  + int getTipo()
  + String getTitular()
  + float getSaldo()
  + void setNumero(int numero)
  + void setAgencia(int agencia)
  + void setTipo(int tipo)
  + void setTitular(String titular)
  + void setSaldo(float saldo)
  + boolean sacar(float valor)
  + void depositar(float valor)
  + void visualizar()
}
class ContaCorrente {
  - limite : float
  + float getLimite()
  + void setLimite(float limite)
  + boolean sacar(float valor)
  + void visualizar()
}
class ContaPoupanca {
  - aniversario : int
  + int getAniversario()
  + void setAniversario(int aniversario)
  + void visualizar()
}
class ContaRepository {
<<Interface>>
  + void procurarPorNumero(int numero)
  + void listarTodas()
  + void cadastrar(Conta conta)
  + void atualizar(Conta conta)
  + void deletar(int numero)
  + void sacar(int numero, float valor)
  + void depositar(int numero, float valor)
  + void transferir(int numeroOrigem, int numeroDestino, float valor)
}
class ContaController {
  + void procurarPorNumero(int numero)
  + void listarTodas()
  + void cadastrar(Conta conta)
  + void atualizar(Conta conta)
  + void deletar(int numero)
  + void sacar(int numero, float valor)
  + void depositar(int numero, float valor)
  + void transferir(int numeroOrigem, int numeroDestino, float valor)
  + int gerarNumero()
  + Conta buscarNaCollection(int numero)
}
Conta <|-- ContaCorrente : "√© um tipo de"
Conta <|-- ContaPoupanca : "√© um tipo de"
ContaRepository <|.. ContaController : "implementa"
```

<br />

<h2>üë£ Passo 01 - Criar o M√©todo Auxiliar buscarNaCollection - Classe ContaController</h2>



Antes de implementarmos o m√©todo `procurarPorNumero`, √© necess√°rio criar um m√©todo auxiliar chamado **`buscarNaCollection`**, posicionado ao final da classe **`ContaController`**, depois do m√©todo `gerarNumero`. Esse m√©todo ser√° respons√°vel por localizar e retornar um objeto do tipo **`Conta`** com base no n√∫mero da conta informado, conforme ilustrado abaixo:

<div align="center"><img src="https://i.imgur.com/uow1ypa.png" title="source: imgur.com" /></div>

**Linha 66:** A assinatura do m√©todo **`buscarNaCollection`** recebe como par√¢metro uma vari√°vel do tipo **`int`**, chamada **`numero`**, que representa o n√∫mero da conta que se deseja localizar. Note que o m√©todo retornar√° um objeto da classe Conta, que pode ser uma Conta Corrente ou Conta Poupan√ßa.

**Linha 67:** Utiliza-se um la√ßo de repeti√ß√£o **`for-each`** para percorrer todos os elementos da **cole√ß√£o `listaContas`**.

**Linha 68:** √â realizada uma compara√ß√£o entre o n√∫mero informado como par√¢metro (**`numero`**) e o n√∫mero da conta armazenado no objeto **`conta`**, acessado por meio do m√©todo **`getNumero`**.

**Linha 69:** Caso os n√∫meros sejam iguais, o m√©todo retorna o objeto **`conta`** correspondente e interrompe a execu√ß√£o do la√ßo.

**Linha 73:** Se nenhum objeto com o n√∫mero correspondente for encontrado na cole√ß√£o **`listaContas`**, o m√©todo retorna **`null`**, indicando que a conta n√£o foi localizada.

<br />

<h2>üë£ Passo 02 - Implementar o M√©todo Procurar por Numero - Classe ContaController</h2>



Ap√≥s a cria√ß√£o do m√©todo auxiliar, vamos implementar o m√©todo **`procurarContaPorNumero`**, respons√°vel por localizar e exibir os dados de uma conta espec√≠fica, com base no n√∫mero informado. Abaixo, temos o c√≥digo correspondente:

<div align="center"><img src="https://i.imgur.com/47qIoEV.png" title="source: imgur.com" /></div>

**Linha 29:** A assinatura do m√©todo **`procurarContaPorNumero`** define como par√¢metro uma vari√°vel do tipo **`int`**, denominada **`numero`**, que representa o n√∫mero da conta a ser localizada dentro da cole√ß√£o de contas cadastradas.

**Linha 30:** A vari√°vel local **`conta`** √© declarada utilizando a palavra-chave **`var`**, que permite a **infer√™ncia de tipo**. Nesse contexto, o compilador deduz que **`conta`** √© do tipo **`Conta`**, j√° que ela recebe como valor o retorno do m√©todo **`buscarNaCollection(numero)`**, o qual pode retornar um objeto da classe **`Conta`** ou **`null`**, caso nenhuma correspond√™ncia seja encontrada.

**Linhas 32 a 36:** O Bloco Condicional **`if-else`** √© utilizado para verificar se o objeto **`conta`** retornado √© diferente de **`null`**:

- Se a conta for localizada, seus dados s√£o exibidos por meio do m√©todo **`visualizar()`**, que foi originalmente definido na classe model **`Conta`** e **sobrescrito** nas subclasses **`ContaCorrente`** e **`ContaPoupanca`**, respeitando as caracter√≠sticas espec√≠ficas de cada tipo de conta.
- Caso contr√°rio, uma mensagem ser√° exibida informando que a conta n√£o foi encontrada.

Para que o usu√°rio possa realizar a busca de uma conta espec√≠fica, √© necess√°rio solicitar, via teclado, a entrada do n√∫mero da conta desejada. Essa funcionalidade ser√° implementada por meio do m√©todo **`procurarContaPorNumero()`**, localizado na classe **`Menu`**, que funcionar√° como um formul√°rio de consulta textual interativo.

<br />

<h2>üë£ Passo 03 - Criar o M√©todo Procurar Conta por N√∫mero - Classe Menu</h2>



Vamos implementar o m√©todo **`procurarContaPorNumero()`** na classe **`Menu`**, que atuar√° como um **formul√°rio de consulta interativo**.

A consulta solicitar√° apenas o **N√∫mero da Conta**, que ser√° lido via teclado e, em seguida, repassado como argumento para o m√©todo **`procurarPorNumero(int numero)`**, pertencente √† classe **`ContaController`**. 

1. Na classe `Menu`, **logo ap√≥s o m√©todo `criarContasTeste`**, adicione o m√©todo `procurarContaPorNumero`, como vemos na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/xAyMMn4.png" title="source: imgur.com" /></div>

**Linhas 179 e 180:** √â realizada a entrada de dados via teclado, utilizando a classe **`Scanner`**, para capturar o valor da vari√°vel **`numero`**, que representa o n√∫mero da conta a ser consultada na cole√ß√£o **`listaContas`**.

**Linha 181:** Consome a **quebra de linha pendente** deixada pelo `nextInt()`. Isso √© necess√°rio porque, ao pressionar `Enter` ap√≥s digitar o n√∫mero, o caractere de nova linha (`\n`) permanece no buffer e poderia interferir em leituras futuras com `nextLine()`. Esta linha "limpa" o buffer.

> ### üìå O que √© um Buffer de Dados?
>
> O **buffer de dados** √© como uma **√°rea de espera** na mem√≥ria do computador. Ele serve para **armazenar temporariamente os dados** enquanto eles est√£o sendo enviados de um lugar para outro ‚Äî por exemplo, do **teclado para o programa Java**.
>
> **Exemplo do dia a dia**
>
> Imagine uma fila em um banco. As pessoas (dados) esperam na fila (buffer) at√© que sejam atendidas pelo caixa (programa).
>
> Quando voc√™ digita algo no teclado e **pressiona a tecla Enter**, os dados digitados n√£o v√£o direto para o programa. Eles primeiro s√£o armazenados no **buffer de entrada**, uma esp√©cie de ‚Äúmem√≥ria intermedi√°ria‚Äù.
>
> Depois disso, a **JVM (Java Virtual Machine)** l√™ esse conte√∫do do buffer e entrega ao seu c√≥digo, normalmente por meio de comandos como:
>
> ```java
> Scanner leia = new Scanner(System.in);
> String nome = leia.nextLine(); // L√™ os dados que estavam no buffer
> ```
>
> Saber que existe um buffer ajuda a entender por que, √†s vezes, o programa "pula" uma entrada ou parece n√£o esperar pelo usu√°rio: √© porque **a entrada j√° estava no buffer**, e o programa leu rapidamente.

**Linha 183:** O m√©todo **`procurarContaPorNumero`**, da classe **`ContaController`**, √© executado com o argumento **`numero`**, recebido via teclado. Esse m√©todo ser√° respons√°vel por buscar, na cole√ß√£o **`listaContas`**, o objeto da classe **`Conta`** que possui o n√∫mero correspondente. 

- Caso encontrado, os dados da conta ser√£o exibidos na tela; 
- Caso contr√°rio, ser√° apresentada uma mensagem informando que a conta n√£o foi localizada.

2. Na Classe Menu, localize o trecho de c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/TMg0gSw.png" title="source: imgur.com" /></div>

3. Insira a chamada ao m√©todo `procurarContaPorNumero` no local indicado na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/ClWjl4m.png" title="source: imgur.com" /></div>

**Linha 80:** Executa o m√©todo **`procurarContaPorNumero`**, da classe **`Menu`**, que solicita ao usu√°rio o n√∫mero da conta via teclado. Em seguida, esse valor √© utilizado para invocar o m√©todo **`procurarContaPorNumero`**, da classe **`ContaController`**, respons√°vel por localizar o objeto correspondente na cole√ß√£o **`listaContas`** e exibir seus dados, caso a conta seja encontrada.

üíæ **Salve as altera√ß√µes antes de prosseguir!**

<br />

<h2>üë£ Passo 04 - Executar o projeto</h2>



Vamos testar a fun√ß√£o **3 - Buscar Conta por Numero** do Projeto Conta Banc√°ria:

1. Para executar o Projeto Conta Banc√°ria, abra a classe `Menu` e clique no bot√£o <img src="https://i.imgur.com/t28CIT4.png" title="source: imgur.com" width="4%"/>**Run**, localizado na **Barra de Ferramentas**
2. Ser√° exibido do menu, conforme a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/PtBmaT3.png" title="source: imgur.com" /></div>

3. Digite a op√ß√£o **3** (Buscar Conta por Numero) e observe o resultado:

```bash
Consultar dados da Conta - por n√∫mero

Digite o n√∫mero da conta: 
1

***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 1
Ag√™ncia: 123
Tipo da Conta: Conta Corrente
Titular: Jo√£o da Silva
Saldo: R$ 1000,00
Limite: R$ 100,00

Pressione Enter para Continuar...
```

Observe que ao procurarmos a conta numero **1**, a conta foi encontrada e os seus dados foram exibidos na tela. 

4. Experimente repetir a opera√ß√£o e digitar o numero 10:

```bash
Consultar dados da Conta - por n√∫mero

Digite o n√∫mero da conta: 
10

A Conta n√∫mero: 10 n√£o foi encontrada!

Pressione Enter para Continuar...
```

Observe que ao procurarmos a conta numero **10**, a conta n√£o foi encontrada e uma mensagem foi exibida na tela. 

<br />

<h2>üë£ Passo 05 - Implementar o M√©todo Atualizar - Classe ContaController</h2>



Na sequ√™ncia, vamos implementar o **m√©todo Atualizar Conta**, respons√°vel por modificar todos os dados de uma conta j√° existente, exceto o **numero** e o **tipo**, conforme o c√≥digo apresentado abaixo:

<div align="center"><img src="https://i.imgur.com/CWW7Lre.png" title="source: imgur.com" /></div>

**Linha 41:** Observe que, na assinatura do m√©todo, foi definido como par√¢metro um objeto da classe `Conta`, chamado **`conta`**. Esse objeto representa a conta com os dados atualizados que dever√£o ser aplicados na cole√ß√£o **`listaContas`**.

**Linha 42:** Antes de atualizar a conta na lista, √© necess√°rio verificar se ela existe. Para isso, foi criada a vari√°vel local **`buscaConta`**, que recebe o retorno do m√©todo **`buscarNaCollection()`**, respons√°vel por localizar a conta na lista com base no n√∫mero da conta, obtido por meio do m√©todo **`getNumero()`** do objeto `conta`.

**Linhas 44 a 49:** Foi criado um bloco condicional `if` que verifica se a conta foi encontrada:

- **Se encontrada**, o objeto da conta ser√° substitu√≠do na cole√ß√£o `listaContas` por meio do m√©todo **`set()`**, que recebe dois par√¢metros:
  - **`listaContas.indexOf(buscaConta)`**: retorna o √≠ndice (posi√ß√£o) da conta encontrada dentro da lista.
  - **`conta`**: representa o novo objeto com os dados atualizados que substituir√° o objeto anterior.
- **Caso contr√°rio**, ou seja, se o objeto `buscaConta` for `null`, ser√° exibida uma mensagem informando que a conta n√£o foi localizada.

Na pr√°tica, o m√©todo `set()` atualiza a lista substituindo a conta armazenada anteriormente pelo novo objeto `conta`, recebido como argumento do m√©todo `atualizar`. Isso garante que os dados atualizados da conta sejam refletidos corretamente na posi√ß√£o correspondente da lista.

üíæ **Salve as altera√ß√µes antes de prosseguir!**

Para permitir que o usu√°rio atualize os dados de uma conta existente, ser√° necess√°rio solicitar novamente as informa√ß√µes via teclado ‚Äî **com exce√ß√£o do tipo da conta**, que ser√° identificado previamente antes da execu√ß√£o da atualiza√ß√£o.

Essa funcionalidade ser√° implementada no m√©todo **`atualizarConta()`**, que deve ser criado dentro da classe **`Menu`**.

<br />

<h2>üë£ Passo 06 - Criar o M√©todo Atualizar Conta - Classe Menu</h2>



Para atualizar os dados de uma conta existente na cole√ß√£o `listaContas`, ser√° implementado o m√©todo `atualizarConta` na classe `Menu`. Esse m√©todo funcionar√° como um **formul√°rio interativo de edi√ß√£o**, permitindo a entrada de dados via teclado.

Antes da edi√ß√£o, o sistema identificar√° o **tipo da conta (Corrente ou Poupan√ßa)** com base na busca feita na cole√ß√£o. Assim, os campos espec√≠ficos de cada tipo ser√£o exibidos:

- **N√∫mero da conta**
- **N√∫mero da ag√™ncia**
- **Nome do titular**
- **Saldo atualizado**
- **Limite** (apenas para contas Corrente)
- **Anivers√°rio** (apenas para contas Poupan√ßa)

O **n√∫mero da conta** e o **tipo da conta** **n√£o poder√£o ser alterados**, pois s√£o dados fixos da conta original.

Ao final, uma nova inst√¢ncia ser√° criada com os dados informados e **substituir√°** a vers√£o anterior na cole√ß√£o utilizando o m√©todo `set`.

1. Na classe `Menu`, **logo ap√≥s o m√©todo `procurarContaPorNumero`**, adicione o m√©todo `atualizarConta`, como vemos na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/YF14TT1.png" title="source: imgur.com" /></div>

**Linhas 193 e 194:** Exibe no console a mensagem solicitando ao usu√°rio o n√∫mero da conta a ser atualizada, l√™ o n√∫mero digitado pelo usu√°rio e armazena na vari√°vel `numero`.

**Linha 195:** Consome a **quebra de linha pendente** deixada pelo `nextInt()`, ou seja,  "limpa" o buffer.

**Linha 197:** Chama o m√©todo `buscarNaCollection` para localizar a conta com o n√∫mero informado e armazena o resultado na vari√°vel `conta`.

**Linhas 199 a 243:** Bloco condicional que verifica se a conta foi encontrada (`conta != null`) e, em caso positivo, permite sua atualiza√ß√£o.

**Linhas 201 a 204:** Recupera os dados atuais da conta: n√∫mero da ag√™ncia, nome do titular, saldo e tipo (1 = Corrente, 2 = Poupan√ßa), armazenando-os em vari√°veis auxiliares.

**Linha 206:** Exibe o n√∫mero da ag√™ncia atual e solicita ao usu√°rio um novo n√∫mero. Informa que, ao pressionar apenas ENTER, o valor atual ser√° mantido.

**Linha 207:** L√™ a entrada do usu√°rio como `String` na vari√°vel `entrada`. O uso de `nextLine()` √© necess√°rio porque permite capturar entradas vazias (ENTER sem digita√ß√£o).

A vari√°vel `entrada` √© reutilizada para todos os campos, pois apenas o m√©todo `Scanner.nextLine()` √© capaz de interpretar corretamente uma entrada vazia. M√©todos como `nextInt()` e `nextFloat()` **n√£o aceitam entrada vazia** como v√°lida.

**Linha 208:** Usa o m√©todo `isEmpty()`, da classe `String`, para verificar se o usu√°rio pressionou ENTER:

- Caso a vari√°vel entrada esteja vazia, o numero da ag√™ncia atual ser√° mantido; 
- Caso contr√°rio, atualiza o numero da ag√™ncia com o novo valor informado, que ser√° convertido de `String` para `int`, porque o numero da ag√™ncia √© do tipo `int`. 

Observe que na **Linha 208** foram utilizados dois novos recursos:

- O operador tern√°rio, conhecido como "if tern√°rio", para testar a condi√ß√£o
- O m√©todo `Integer.parseInt(entrada)`, para converter uma `String` em um n√∫mero do tupo `int`.

> ### üìå O que √© o **`Operador Tern√°rio`** em Java?
>
> O **`Operador Tern√°rio`** √© uma **forma compacta** de escrever estruturas condicionais simples no Java. Ele √© ideal para decis√µes que envolvem apenas **duas possibilidades**: uma para o caso verdadeiro e outra para o caso falso.
>
> Sua estrutura b√°sica √©:
>
> ```java
> condi√ß√£o ? valorSeVerdadeiro : valorSeFalso;
> ```
>
> Essa express√£o √© conhecida como *if tern√°rio* porque utiliza **tr√™s operandos**:
>
> 1. A condi√ß√£o a ser avaliada;
> 2. O valor retornado se a condi√ß√£o for verdadeira;
> 3. O valor retornado se a condi√ß√£o for falsa.
>
> <br />
>
> **Exemplo tradicional com `if`:**
>
> ```java
> int idade;
> if (maiorDeIdade) {
>     idade = 18;
> } else {
>     idade = 17;
> }
> ```
>
> **Equivalente usando `operador tern√°rio`:**
>
> ```java
> int idade = maiorDeIdade ? 18 : 17;
> ```
>
> Essa forma reduz a quantidade de linhas de c√≥digo e melhora a legibilidade, especialmente para **atribui√ß√µes simples**.
>
> <br />
>
> <div align="left"><img src="https://i.imgur.com/JSfXyzm.png" title="source: imgur.com" width="30px"/> <a href="https://docs-oracle-com.translate.goog/javase/tutorial/java/nutsandbolts/operators.html?_x_tr_sl=en&_x_tr_tl=pt&_x_tr_hl=pt&_x_tr_pto=tc" target="_blank"><b>Documenta√ß√£o: Operador Tern√°rio</b></a></div>
>
> <br />

<br />

> ### üìå O que s√£o conversores em Java?
>
> Os **conversores em Java** permitem transformar valores de **texto (String)** em **tipos primitivos** ou **objetos** e vice-versa. Essa funcionalidade √© essencial quando o programa precisa **ler dados do usu√°rio**, arquivos ou outros sistemas, que geralmente chegam como `String`.
>
> <br />
>
> ### üì• Convers√£o de `String` para tipos primitivos
>
> Java oferece m√©todos utilit√°rios nas classes **wrapper** (como `Integer`, `Double`, `Float`, entre outras.), para realizar essas convers√µes. Esses m√©todos s√£o comumente usados quando trabalhamos com entradas de dados.
>
> **Exemplo:**
>
> ```java
> String entrada = "10";
> int numero = Integer.parseInt(entrada);  // Converte String para int
> ```
>
> Esse tipo de convers√£o √© chamada de **convers√£o expl√≠cita**, pois exige que a pessoa desenvolvedora indique claramente o tipo desejado.
>
> <br />
>
> > [!WARNING]
> >
> > Antes de usar a convers√£o, certifique-se de que a `String` contenha um valor **compat√≠vel com o tipo** que est√° sendo convertido.
>
> <br />
>
> ###  Tabela: Principais conversores em Java
>
> | Tipo de dado desejado | Conversor                        | Descri√ß√£o                                                    |
> | --------------------- | -------------------------------- | ------------------------------------------------------------ |
> | `int`                 | `Integer.parseInt(String s)`     | Converte `String` em `int`                                   |
> | `float`               | `Float.parseFloat(String s)`     | Converte `String` em `float`; <br />Aceita o caractere ponto como separador de decimal. |
> | `double`              | `Double.parseDouble(String s)`   | Converte `String` em `double`; <br />Aceita o caractere ponto como separador de decimal. |
> | `long`                | `Long.parseLong(String s)`       | Converte `String` em `long`                                  |
> | `boolean`             | `Boolean.parseBoolean(String s)` | Interpreta `"true"` como `true`, caso contr√°rio `false`      |
> | `String`              | `String.valueOf(valor)`          | Converte valores primitivos em `String`                      |
>
> <br />
>
> <div align="left"><img src="https://i.imgur.com/JSfXyzm.png" title="source: imgur.com" width="30px"/> <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Integer.html" target="_blank"><b>Documenta√ß√£o: Convers√£o para Int</b></a></div>
>
> <div align="left"><img src="https://i.imgur.com/JSfXyzm.png" title="source: imgur.com" width="30px"/> <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Float.html" target="_blank"><b>Documenta√ß√£o: Convers√£o para Float</b></a></div>
>
> <div align="left"><img src="https://i.imgur.com/JSfXyzm.png" title="source: imgur.com" width="30px"/> <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Double.html" target="_blank"><b>Documenta√ß√£o: Convers√£o para Double</b></a></div>
>
> <div align="left"><img src="https://i.imgur.com/JSfXyzm.png" title="source: imgur.com" width="30px"/> <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Long.html" target="_blank"><b>Documenta√ß√£o: Convers√£o para Long</b></a></div>
>
> <div align="left"><img src="https://i.imgur.com/JSfXyzm.png" title="source: imgur.com" width="30px"/> <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/Boolean.html" target="_blank"><b>Documenta√ß√£o: Convers√£o para Boolean</b></a></div>
>
> <div align="left"><img src="https://i.imgur.com/JSfXyzm.png" title="source: imgur.com" width="30px"/> <a href="https://docs.oracle.com/javase/8/docs/api/java/lang/String.html" target="_blank"><b>Documenta√ß√£o: Convers√£o para String</b></a></div>
>
> <br />

<br />

**Linhas 210 e 211:** Exibe o nome atual do titular e solicita ao usu√°rio um novo nome, com a mesma l√≥gica de ENTER para manter. Em seguida, l√™ o valor para a vari√°vel `entrada`.

**Linha 212:** Verifica se a entrada est√° vazia. Se estiver, mant√©m o nome atual; caso contr√°rio, atualiza o titular com o novo valor digitado, sem necessidade de convers√£o (titular √© do tipo `String`).

**Linhas 214 e 215:** Exibe o saldo atual da conta e solicita um novo valor. Permite manter o saldo atual ao pressionar ENTER. Depois, l√™ a entrada do usu√°rio.

**Linha 216:** Verifica se a entrada est√° vazia. Se estiver, o saldo permanece o mesmo. Caso contr√°rio, converte o valor digitado para `float`.

Note que antes de converter o valor do `saldo` para o tipo `float`, foi utilizado o m√©todo `replace(',', '.')` da classe `String`, para ajustar o formato decimal brasileiro ao formato americano exigido pelo Java (ponto como separador decimal).

**Linhas 218 a 239:** Estrutura `switch` (no formato *Switch Expression*) que determina qual l√≥gica de atualiza√ß√£o aplicar com base no tipo da conta.

**Linhas 219 a 227:** Caso a conta seja do tipo Corrente (1), inicia o bloco correspondente.

**Linha 220:** Recupera o limite da Conta Corrente. Como o objeto `conta` √© do tipo gen√©rico `Conta`, √© necess√°rio fazer um **casting expl√≠cito** para `ContaCorrente`.

O `casting` √© necess√°rio porque o m√©todo `getLimite()` existe apenas na subclasse `ContaCorrente`, n√£o na superclasse `Conta`.

>### üìå O que √© o *casting* em Java?
>
>O **casting** (ou **convers√£o de tipos**) √© um recurso da linguagem Java que permite **converter um tipo de dado para outro** de forma expl√≠cita ou impl√≠cita, possibilitando o uso adequado de vari√°veis em diferentes contextos.
>
><br />
>
>### üß© *Casting* com classes (tipos por refer√™ncia)
>
>Quando lidamos com **heran√ßa** e **polimorfismo**, √© comum termos um objeto referenciado por um tipo gen√©rico (superclasse), mas que precisa ser convertido para o tipo mais espec√≠fico (subclasse) para acessar m√©todos ou atributos pr√≥prios.
>
>**Exemplo:**
>
>```java
>Conta conta = new ContaCorrente();
>float limite = ((ContaCorrente) conta).getLimite();
>```
>
>Nesse exemplo, `conta` √© uma vari√°vel do tipo `Conta`, mas faz refer√™ncia a um objeto do tipo `ContaCorrente`. Para acessar o m√©todo `getLimite()`, que √© exclusivo da subclasse, √© necess√°rio realizar o *casting* para `ContaCorrente`.
>
>> [!WARNING]
>>
>> s√≥ fa√ßa esse *casting* quando tiver certeza do tipo real do objeto. Caso contr√°rio, poder√° ocorrer uma exce√ß√£o em tempo de execu√ß√£o (`ClassCastException`).
>
><br />

**Linhas 222 e 223:** Exibe o limite atual e solicita um novo valor, com a op√ß√£o de manter o atual. Em seguida, l√™ a entrada do usu√°rio.

**Linha 224:** Verifica se a entrada est√° vazia. Se estiver, o limite n√£o √© alterado. Caso contr√°rio, converte o novo valor para `float`, utilizando novamente `replace(',', '.')`.

**Linha 226:** Cria uma nova inst√¢ncia de `ContaCorrente` com os dados atualizados e chama o m√©todo `atualizar()` da `contaController` para substituir a conta anterior.

**Linhas 228 a 237:** Caso a conta seja do tipo Poupan√ßa (2), inicia o bloco correspondente.

**Linha 229:** Recupera o **dia do anivers√°rio** da Conta Poupan√ßa. Assim como no caso anterior, √© necess√°rio fazer um **casting expl√≠cito** para `ContaPoupanca` para acessar o m√©todo `getAniversario()`.

**Linhas 231 e 232:** Exibe o anivers√°rio atual e solicita um novo valor, com a op√ß√£o de manter o atual. Em seguida, l√™ a entrada do usu√°rio.

**Linha 233:** Verifica se a entrada est√° vazia. Se estiver, mant√©m o valor atual. Caso contr√°rio, converte o novo valor para `int`.

**Linha 235:** Cria uma nova inst√¢ncia de `ContaPoupanca` com os dados atualizados e executa a substitui√ß√£o da conta anterior por meio do m√©todo `atualizar()`.

**Linha 237:** Caso o tipo da conta seja diferente de 1 ou 2, exibe uma mensagem de erro com destaque colorido, indicando tipo inv√°lido.

**Linha 241:** Caso o m√©todo `buscarNaCollection()` retorne `null`, significa que a conta n√£o foi localizada. Neste caso, √© exibida uma mensagem informando que o n√∫mero da conta n√£o existe.

<br />

> [!TIP]
>
> üëâ Caso tenha ficado alguma d√∫vida sobre os m√©todos `isEmpty` e `replace` da classe **String**, acesse o conte√∫do: <a href="b02.md">M√©todos da Classe String</a>.

<br />

2. Na Classe Menu, localize o trecho de c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/7qJgrUz.png" title="source: imgur.com" /></div>

3. Insira a chamada ao m√©todo `atualizarConta` no local indicado na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/3ZLLXYN.png" title="source: imgur.com" /></div>

**Linha 87:** Executa o m√©todo `atualizarConta` da classe `Menu`, que captura os dados fornecidos pelo usu√°rio, identifica o tipo da conta, cria um objeto com os dados atualizados e invoca o m√©todo `atualizar` da classe `ContaController`, para efetuar a atualiza√ß√£o dos dados da conta na cole√ß√£o `listaContas`.

üíæ **Salve as altera√ß√µes antes de prosseguir!**

<br />

<h2>üë£ Passo 07 - Executar o projeto</h2>




Vamos testar a fun√ß√£o **4 - Atualizar Dados da Conta** do Projeto Conta Banc√°ria:

1. Para executar o Projeto Conta Banc√°ria, abra a classe `Menu` e clique no bot√£o <img src="https://i.imgur.com/t28CIT4.png" title="source: imgur.com" width="4%"/>**Run**, localizado na **Barra de Ferramentas**

2. Ser√° exibido do menu, conforme a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/PtBmaT3.png" title="source: imgur.com" /></div>

3. Digite a op√ß√£o **4** e fa√ßa a Atualiza√ß√£o dos dados da Conta Corrente numero **1**, como mostra o console abaixo:

```bash
Atualizar dados da Conta


Digite o n√∫mero da conta: 1
Ag√™ncia atual: 123
Nova Ag√™ncia (pressione ENTER para manter): 789
Titular atual: Jo√£o da Silva
Novo Titular (pressione ENTER para manter): Jo√£o da Silva Santos
Saldo atual: R$ 1000,00
Novo Saldo (pressione ENTER para manter): 5000
Limite atual: R$ 100,00
Novo Limite (pressione ENTER para manter): 500

A conta n√∫mero 1 foi atualizada com sucesso!

Pressione Enter para Continuar...
```

4. Observe que a Conta foi Atualizada com sucesso. Pressione a tecla enter e atualize a Conta Poupan√ßa numero 3:

```bash
Atualizar dados da Conta


Digite o n√∫mero da conta: 3
Ag√™ncia atual: 789
Nova Ag√™ncia (pressione ENTER para manter): 456
Titular atual: Mariana Hernandez
Novo Titular (pressione ENTER para manter): Mariana Chavez
Saldo atual: R$ 10000,00
Novo Saldo (pressione ENTER para manter): 15000
Anivers√°rio atual: 12
Novo Anivers√°rio (pressione ENTER para manter): 15

A conta n√∫mero 3 foi atualizada com sucesso!

Pressione Enter para Continuar...
```

5. Digite a op√ß√£o 2 para listar todas as contas:

```bash
Listar todas as Contas


***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 1
Ag√™ncia: 789
Tipo da Conta: Conta Corrente
Titular: Jo√£o da Silva Santos
Saldo: R$ 5000,00
Limite: R$ 500,00


***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 2
Ag√™ncia: 456
Tipo da Conta: Conta Corrente
Titular: Maria dos Santos
Saldo: R$ 2000,00
Limite: R$ 200,00


***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 3
Ag√™ncia: 456
Tipo da Conta: Conta Poupan√ßa
Titular: Mariana Chavez
Saldo: R$ 15000,00
Anivers√°rio da conta: 15


***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 4
Ag√™ncia: 123
Tipo da Conta: Conta Poupan√ßa
Titular: Giovanna Giunchetti
Saldo: R$ 8000,00
Anivers√°rio da conta: 23

Pressione Enter para Continuar...
```

Observe que os dados das contas 1 e 3 foram atualizados na cole√ß√£o **listaContas**.

<br />

> [!NOTE]
>
> **Desafio!**
>
> Experimente atualizar uma conta existente informando **apenas alguns campos**, enquanto mant√©m os demais **inalterados**. Durante o processo, pressione **Enter** nos campos que voc√™ **n√£o deseja modificar** e observe se os dados anteriores s√£o mantidos corretamente.
>
> Esse teste √© essencial para validar se a atualiza√ß√£o parcial est√° funcionando como o esperado!

<br />

<h2>üë£ Passo 08 - Implementar o M√©todo Deletar - Classe ContaController</h2>



Para finalizar os M√©todos do CRUD, vamos implementar o m√©todo **Deletar Conta**, respons√°vel por apagar uma conta j√° existente, conforme o c√≥digo apresentado abaixo:

<div align="center"><img src="https://i.imgur.com/eMHufqZ.png" title="source: imgur.com" /></div>

**Linha 54:** Observe que, na assinatura do m√©todo, foi declarado como par√¢metro uma vari√°vel do tipo *int*, chamada **numero**, que representa o n√∫mero da conta que se deseja excluir.

**Linha 55:** Antes de realizar a exclus√£o do objeto `Conta` da cole√ß√£o **listaContas**, √© necess√°rio verificar se esse objeto realmente existe. Para isso, foi criada a vari√°vel local **conta**, que armazenar√° o objeto retornado pelo m√©todo **buscarNaCollection**.

**Linhas 57 a 63:** O bloco condicional tem como objetivo verificar se o objeto **conta** foi localizado:

**Linha 57:** Se a **conta foi encontrada** o objeto ser√° removido da cole√ß√£o **listaContas** por meio do m√©todo **remove()**, que recebe como argumento o pr√≥prio objeto **conta**.

**Linha 58:** Um segundo bloco condicional √© utilizado para validar se a remo√ß√£o foi realizada com sucesso: 

- Caso afirmativo, uma mensagem √© exibida ao usu√°rio (**Linha 59**), informando que a conta foi exclu√≠da com √™xito.

**Linha 62:** Se o m√©todo **buscarNaCollection** retornar `null` (ou seja, a conta n√£o foi encontrada), ser√° exibida uma mensagem indicando que a conta informada n√£o existe na base de dados.

üíæ **Salve as altera√ß√µes antes de prosseguir!**

Para permitir que o usu√°rio possa excluir uma conta espec√≠fica, √© necess√°rio solicitar, via teclado, a entrada do n√∫mero da conta desejada. Essa funcionalidade ser√° implementada por meio do m√©todo **`deletarConta()`**, localizado na classe **`Menu`**, que atuar√° como um formul√°rio de exclus√£o textual interativo. 

<br />

<h2>üë£ Passo 09 - Criar o M√©todo Deletar Conta - Classe Menu</h2>



Vamos implementar o m√©todo **`deletarConta()`** na classe **`Menu`**, que atuar√° como um **formul√°rio de consulta interativo**.

Esse formul√°rio solicitar√° ao usu√°rio o **n√∫mero da conta** que deseja excluir, utilizando a entrada via teclado. Ap√≥s a digita√ß√£o, ser√° exibida uma **mensagem de confirma√ß√£o**, permitindo que o usu√°rio cancele ou prossiga com a exclus√£o.

Caso a exclus√£o seja confirmada, o n√∫mero informado ser√° repassado como argumento para o m√©todo **`deletar(int numero)`**, localizado na classe **`ContaController`**, respons√°vel por localizar e remover a conta correspondente da cole√ß√£o.

1. Na classe `Menu`, **logo ap√≥s o m√©todo `atualizarConta`**, adicione o m√©todo `deletarConta`, como vemos na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/nL9UHf7.png" title="source: imgur.com" /></div>

**Linhas 248 e 250:** Exibem no console a mensagem solicitando ao usu√°rio o n√∫mero da conta a ser exclu√≠da. Em seguida, o n√∫mero digitado √© lido e armazenado na vari√°vel `numero`.

**Linha 251:** Realiza a limpeza do buffer, consumindo a quebra de linha pendente deixada pela leitura anterior com `nextInt()`.

**Linhas 253 e 254:** Exibem uma mensagem pedindo confirma√ß√£o da exclus√£o da conta (S/N). A resposta digitada √© lida como `String` e armazenada na vari√°vel `confirmacao`.

**Linhas 256 a 260:** Bloco condicional que verifica se a resposta foi "S", utilizando o m√©todo `equalsIgnoreCase`, que desconsidera diferen√ßas entre letras mai√∫sculas e min√∫sculas.

**Linha 257:** Caso a confirma√ß√£o seja positiva ("S"), o m√©todo `deletar` da classe `contaController` √© chamado, recebendo como argumento o n√∫mero da conta a ser exclu√≠da.

**Linha 259:** Se a resposta n√£o for "S", uma mensagem √© exibida informando que a opera√ß√£o foi cancelada.

2. Na Classe Menu, localize o trecho de c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/2SWbk7t.png" title="source: imgur.com" /></div>

3. Insira a chamada ao m√©todo `deletarConta` no local indicado na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/Tb66ocC.png" title="source: imgur.com" /></div>

**Linha 94:** Executa o m√©todo **`deletarConta`** da classe **`Menu`**, que por sua vez chama o m√©todo **`deletar`** da classe **`ContaController`**, para apagar uma conta espec√≠fica, armazenada na cole√ß√£o **`listaContas`**.

üíæ **Salve as altera√ß√µes antes de prosseguir!**

<br />

<h2>üë£ Passo 09 - Executar o projeto</h2>



Vamos testar a fun√ß√£o **5 - Apagar Conta** do Projeto Conta Banc√°ria:

1. Para executar o Projeto Conta Banc√°ria, abra a classe `Menu` e clique no bot√£o <img src="https://i.imgur.com/t28CIT4.png" title="source: imgur.com" width="4%"/>**Run**, localizado na **Barra de Ferramentas**
2. Ser√° exibido do menu, conforme a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/PtBmaT3.png" title="source: imgur.com" /></div>

3. Digite a op√ß√£o **5** (Apagar Contas) e observe o resultado:

```bash
Apagar a Conta

Digite o n√∫mero da conta: 1

Tem certeza que deseja excluir esta conta? (S/N): s

A Conta n√∫mero: 1 foi deletada com sucesso!

Pressione Enter para Continuar...
```

Ao procurar pela conta n√∫mero **1**, ap√≥s a confirma√ß√£o do usu√°rio, ela foi **localizada e exclu√≠da com sucesso**. Em seguida, uma mensagem de confirma√ß√£o foi exibida na tela, indicando que a opera√ß√£o foi conclu√≠da.

3. Experimente repetir a opera√ß√£o e digitar o numero 10:

```bash
Apagar a Conta

Digite o n√∫mero da conta: 10

Tem certeza que deseja excluir esta conta? (S/N): s

A Conta n√∫mero: 10 n√£o foi encontrada!

Pressione Enter para Continuar...
```

Observe que, ao buscarmos a conta de n√∫mero **10**, ap√≥s a confirma√ß√£o do usu√°rio, ela foi **n√£o foi localizada**. Em seguida, uma mensagem informando que a conta n√£o foi encontrada foi exibida na tela, indicando que a opera√ß√£o n√£o foi conclu√≠da.

4. Experimente repetir a opera√ß√£o digitando o n√∫mero da conta **4**, mas, desta vez, responda que **n√£o deseja excluir**:

```
Apagar a Conta

Digite o n√∫mero da conta: 4

Tem certeza que deseja excluir esta conta? (S/N): n

Opera√ß√£o cancelada.

Pressione Enter para Continuar...
```

Observe que a conta ser√° **mantida**, e uma mensagem ser√° exibida informando que a **opera√ß√£o foi cancelada**.

5. Digite a op√ß√£o **2 (Listar todas as Contas)** e observe que apenas a conta numero 1 foi exclu√∫da:

```bash
Listar todas as Contas


***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 2
Ag√™ncia: 456
Tipo da Conta: Conta Corrente
Titular: Maria dos Santos
Saldo: R$ 2000,00
Limite: R$ 200,00


***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 3
Ag√™ncia: 789
Tipo da Conta: Conta Poupan√ßa
Titular: Mariana Hernandez
Saldo: R$ 10000,00
Anivers√°rio da conta: 12


***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 4
Ag√™ncia: 123
Tipo da Conta: Conta Poupan√ßa
Titular: Giovanna Giunchetti
Saldo: R$ 8000,00
Anivers√°rio da conta: 23

Pressione Enter para Continuar...
```

Observe que a conta numero **1** n√£o foi encontrada, confirmando que a conta foi apagada. 

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="25px"/> <a href="https://github.com/rafaelq80/conta_bancaria_java/tree/08_Controller_CRUD" target="_blank"><b>C√≥digo fonte: Projeto Conta Banc√°ria</b></a></div>

<br /><br />


<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>
