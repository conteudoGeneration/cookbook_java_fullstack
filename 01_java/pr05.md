<h1>Projeto 01 - Conta Banc√°ria - Classes Abstratas - Classe Conta</h1>



Na etapa anterior, implementamos as classes modelo **ContaCorrente** e **ContaPoupanca** como subclasses que herdam da classe **Conta**.

Nesta etapa, faremos a transforma√ß√£o da classe **Conta** em uma **classe abstrata**. Com essa altera√ß√£o, o diagrama de classes do projeto passar√° a ter a seguinte estrutura:

```mermaid
classDiagram
class Conta {
<<Abstract>>
  - numero : int
  - agencia : int
  - tipo : int
  - titular : String
  - saldo : float
  + int getNumero()
  + int getAgencia()
  + int getTipo()
  + String getTitular()
  + float getSaldo()
  + void setNumero(int numero)
  + void setAgencia(int agencia)
  + void setTipo(int tipo)
  + void setTitular(String titular)
  + void setSaldo(float saldo)
  + boolean sacar(float valor)
  + void depositar(float valor)
  + void visualizar()
}
class ContaCorrente {
  - limite : float
  + float getLimite()
  + void setLimite(float limite)
  + boolean sacar(float valor)
  + void visualizar()
}
class ContaPoupanca {
  - aniversario : int
  + int getAniversario()
  + void setAniversario(int aniversario)
  + void visualizar()
}
Conta <|-- ContaCorrente
Conta <|-- ContaPoupanca
```

<br />

<h2>üë£ Passo 01 - Implementar a Classe Conta como Classe Abstrata</h2>



1. Abra a Classe **Conta**, localizada no Pacote **conta_bancaria.model**:

<div align="center"><img src="https://i.imgur.com/NNeJ7PM.png" title="source: imgur.com" /></div>

2. Adicione o modificador **abstract** na assinatura da Classe **Conta**, conforme indicado na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/NOuY4Cq.png" title="source: imgur.com" /></div>

3. O c√≥digo completo da Classe **Conta**, voc√™ confere abaixo:

```java
package conta_bancaria.model;

public abstract class Conta {
    
    private int numero;
	private int agencia;
	private int tipo;
	private String titular;
	private float saldo;

	public Conta(int numero, int agencia, int tipo, String titular, float saldo) {
		this.numero = numero;
		this.agencia = agencia;
		this.tipo = tipo;
		this.titular = titular;
		this.saldo = saldo;
	}

	public int getNumero() {
		return numero;
	}

	public void setNumero(int numero) {
		this.numero = numero;
	}

	public int getAgencia() {
		return agencia;
	}

	public void setAgencia(int agencia) {
		this.agencia = agencia;
	}

	public int getTipo() {
		return tipo;
	}

	public void setTipo(int tipo) {
		this.tipo = tipo;
	}

	public String getTitular() {
		return titular;
	}

	public void setTitular(String titular) {
		this.titular = titular;
	}

	public float getSaldo() {
		return saldo;
	}

	public void setSaldo(float saldo) {
		this.saldo = saldo;
	}

	public boolean sacar(float valor) {
		
		if(this.getSaldo() < valor) {
			System.out.println("Saldo Insuficiente!");
			return false;
		}
		
		this.setSaldo(this.getSaldo() - valor);
		return true;
		
	}
	
	public void depositar(float valor) {
		this.setSaldo(this.getSaldo() + valor);
	}
	
	public void visualizar() {

		String tipo = "";
		
		switch(this.tipo) {
		case 1:
			tipo = "Conta Corrente";
		break;
		case 2:
			tipo = "Conta Poupan√ßa";
		break;
		}
		
		System.out.println("\n\n***********************************************************");
		System.out.println("Dados da Conta:");
		System.out.println("***********************************************************");
		System.out.println("Numero da Conta: " + this.numero);
		System.out.println("Ag√™ncia: " + this.agencia);
		System.out.println("Tipo da Conta: " + tipo);
		System.out.println("Titular: " + this.titular);
		System.out.printf("Saldo: R$ %.2f%n", this.saldo);
	}
    
}

```

Observe que a √∫nica altera√ß√£o implementada na Classe Conta foi a adi√ß√£o do modificador **abstract** na assinatura da Classe.

<br />

<h2>üë£ Passo 02 - Remover os Objetos da Classe Conta da Classe Menu</h2>



Como a Classe Conta se tornou uma Classe Abstrata, **n√£o √© poss√≠vel instanciar Objetos desta Classe**. Observe na imagem abaixo, que depois de salvar a Classe Conta, automaticamente a Classe Menu apresentou uma indica√ß√£o de erro:

<div align="center"><img src="https://i.imgur.com/asHDNBc.png" title="source: imgur.com" /></div>

Para corrigir o erro, precisamos remover o objeto da classe `Conta`, que foi criado na classe `Menu`, para testes. Lembre-se que ao tornar uma classe abstrata, o compilador impede sua instancia√ß√£o direta, garantindo que objetos sejam criados apenas a partir de suas subclasses.

1. Abra a Classe Menu;
2. Apague o objeto da classe `Conta` e todos os seus testes, que foram criados na classe `Menu`, conforme indicado na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/HF7xuZt.png" title="source: imgur.com" /></div>

<br />

<h2>üë£ Passo 03 - Ajustes na Classe Menu</h2>



Nesta etapa, vamos transformar a inst√¢ncia da classe `Scanner` em um **atributo est√°tico compartilhado da classe `Menu`**, permitindo seu uso em todos os m√©todos, especialmente os m√©todos `static`.

1. Localize a linha: 

```java
Scanner leia = new Scanner(System.in);
```

2. Essa linha costuma estar declarada dentro do m√©todo `main`, como mostra a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/j31Qxhq.png" title="source: imgur.com" /></div>

3. **Mova essa linha para fora do m√©todo `main`, dentro da classe `Menu`**, declarando o `Scanner` antes de qualquer m√©todo, conforme a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/M8PhvEC.png" title="source: imgur.com" /></div>

*Essa mudan√ßa torna o objeto `leia` acess√≠vel globalmente dentro da classe `Menu`, ou seja, todos os m√©todos da classe poder√£o utiliz√°-lo.*

4. Altere a declara√ß√£o para a seguinte forma:

```java
private static final Scanner leia = new Scanner(System.in);
```

5. O resultado vemos na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/2tfk8hW.png" title="source: imgur.com" /></div>

**Linha 12:** Com essa modifica√ß√£o, estamos criando uma **√∫nica inst√¢ncia imut√°vel** da classe `Scanner`, acess√≠vel **exclusivamente dentro da classe `Menu`**, e compartilhada por todos os m√©todos **`static`**, com a finalidade de capturar a entrada de dados via teclado.

Essa estrat√©gia √© especialmente √∫til quando o c√≥digo √© organizado em m√©todos distintos, e todos eles precisam realizar leituras do usu√°rio.

Como os m√©todos do menu, em sua maioria, s√£o declarados como `static`, o atributo `Scanner` tamb√©m deve ser `static`, permitindo seu uso direto, sem a necessidade de instanciar a classe `Menu`. O modificador `final` foi aplicado para garantir que a refer√™ncia do objeto `leia` n√£o possa ser alterada durante a execu√ß√£o do programa.

<br />

<h2>üë£ Passo 04 - Executar o projeto</h2>



Ap√≥s salvarmos, as 3 classes, vamos testar:

1. Para executar o Projeto Conta Banc√°ria, abra a classe `Menu` e clique no bot√£o <img src="https://i.imgur.com/t28CIT4.png" title="source: imgur.com" width="4%"/>**Run**, localizado na **Barra de Ferramentas**
2. Antes da exibi√ß√£o do menu, ser√£o apresentados no console os **resultados das a√ß√µes executadas pelos m√©todos** da classe `Conta`, conforme demonstrado abaixo:

```bash
***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 2
Ag√™ncia: 123
Tipo da Conta: Conta Corrente
Titular: Jos√© da Silva
Saldo: R$ 0,00
Limite de Cr√©dito: R$ 1000,00

 Saldo Insuficiente!


***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 2
Ag√™ncia: 123
Tipo da Conta: Conta Corrente
Titular: Jos√© da Silva
Saldo: R$ 0,00
Limite de Cr√©dito: R$ 1000,00


***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 2
Ag√™ncia: 123
Tipo da Conta: Conta Corrente
Titular: Jos√© da Silva
Saldo: R$ 5000,00
Limite de Cr√©dito: R$ 1000,00


***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 3
Ag√™ncia: 123
Tipo da Conta: Conta Poupan√ßa
Titular: Maria dos Santos
Saldo: R$ 100000,00
Anivers√°rio da conta: 15


***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 3
Ag√™ncia: 123
Tipo da Conta: Conta Poupan√ßa
Titular: Maria dos Santos
Saldo: R$ 99000,00
Anivers√°rio da conta: 15


***********************************************************
Dados da Conta:
***********************************************************
Numero da Conta: 3
Ag√™ncia: 123
Tipo da Conta: Conta Poupan√ßa
Titular: Maria dos Santos
Saldo: R$ 104000,00
Anivers√°rio da conta: 15
```

Observe que o objeto da classe `Conta` foi removido.

O c√≥digo completo da Classe Menu, voc√™ confere abaixo:

```java
package conta_bancaria;

import java.util.Scanner;

import conta_bancaria.model.ContaCorrente;
import conta_bancaria.model.ContaPoupanca;
import conta_bancaria.util.Cores;

public class Menu {

	public static final Scanner leia = new Scanner(System.in);
	
	public static void main(String[] args) {

		int opcao;

		// Teste da Classe Conta Corrente
		ContaCorrente cc1 = new ContaCorrente(2, 123, 1, "Jos√© da Silva", 0.0f, 1000.0f);
		cc1.visualizar();
		cc1.sacar(12000.0f);
		cc1.visualizar();
		cc1.depositar(5000.0f);
		cc1.visualizar();
		
        // Teste da Classe Conta Poupan√ßa
		ContaPoupanca cp1 = new ContaPoupanca(3, 123, 2, "Maria dos Santos", 100000.0f, 15);
		cp1.visualizar();
        cp1.sacar(1000.0f);
		cp1.visualizar();
		cp1.depositar(5000.0f);
		cp1.visualizar();
		
		while (true) {
			
			System.out.println(Cores.TEXT_YELLOW + Cores.ANSI_BLACK_BACKGROUND + "*****************************************************");
			System.out.println("                                                     ");
			System.out.println("                BANCO DO BRAZIL COM Z                ");
			System.out.println("                                                     ");
			System.out.println("*****************************************************");
			System.out.println("                                                     ");
			System.out.println("            1 - Criar Conta                          ");
			System.out.println("            2 - Listar todas as Contas               ");
			System.out.println("            3 - Buscar Conta por Numero              ");
			System.out.println("            4 - Atualizar Dados da Conta             ");
			System.out.println("            5 - Apagar Conta                         ");
			System.out.println("            6 - Sacar                                ");
			System.out.println("            7 - Depositar                            ");
			System.out.println("            8 - Transferir valores entre Contas      ");
			System.out.println("            0 - Sair                                 ");
			System.out.println("                                                     "); 
			System.out.println("*****************************************************");
			System.out.println("Entre com a op√ß√£o desejada:                          ");
			System.out.println("                                                     ");
			opcao = leia.nextInt();
			
			if(opcao == 0) {
				System.out.println("\nBanco do Brazil com Z - O seu futuro come√ßa aqui!");
				sobre();
                  leia.close();
				System.exit(0);
			}
			
			switch(opcao) {
			case 1:
				System.out.println("\n Criar Conta");
				
                 break;
			case 2:
				System.out.println("\n Listar todas as Contas");
				
                 break;
			case 3:
				System.out.println("\n Buscar Conta por n√∫mero");
				
				break;
			case 4:
				System.out.println("\n Atualizar dados da Conta");
				
                 break;
			case 5:
				System.out.println("\n Apagar Conta");
				
                 break;
			case 6:
				System.out.println("\n Sacar");
				
				break;
             case 7:
				System.out.println("\n Depositar");
				
				break;
             case 8:
				System.out.println("\n Transferir");
				
				break;
			default:
				System.out.println("\nOp√ß√£o Inv√°lida");
                 break;
			}
        }
	}

    public static void sobre() {
		System.out.println("\n*********************************************************");
		System.out.println("Projeto Desenvolvido por: ");
		System.out.println("Generation Brasil - generation@generation.org");
		System.out.println("github.com/conteudoGeneration");
		System.out.println("*********************************************************");
	}
}
```

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="25px"/> <a href="https://github.com/rafaelq80/conta_bancaria_java/tree/07_Repository_ContaRepository" target="_blank"><b>C√≥digo fonte: Projeto Conta Banc√°ria</b></a>

<br /><br />

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>