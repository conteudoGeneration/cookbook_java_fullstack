<h1>Projeto 01 - Conta Banc√°ria - ContaController - Parte III</h1>



Na etapa anterior, implementamos os 5 M√©todos do CRUD na Classe **ContaController**. Nesta √∫ltima estapa do Projeto vamos finalizar a Classe ContaController implementando os 3 M√©todos Banc√°rios (Saque, Dep√≥sito e Transfer√™ncia).

O Diagrama de Classes do nosso Projeto ficar√° da seguinte forma:

```mermaid
classDiagram
class Conta {
<<Abstract>>
  - numero : int
  - agencia : int
  - tipo : int
  - titular : String
  - saldo : float
  + int getNumero()
  + int getAgencia()
  + int getTipo()
  + String getTitular()
  + float getSaldo()
  + void setNumero(int numero)
  + void setAgencia(int agencia)
  + void setTipo(int tipo)
  + void setTitular(String titular)
  + void setSaldo(float saldo)
  + boolean sacar(float valor)
  + void depositar(float valor)
  + void visualizar()
}
class ContaCorrente {
  - limite : float
  + float getLimite()
  + void setLimite(float limite)
  + boolean sacar(float valor)
  + void visualizar()
}
class ContaPoupanca {
  - aniversario : int
  + int getAniversario()
  + void setAniversario(int aniversario)
  + void visualizar()
}
class ContaRepository{
<< Interface >>
+ void procurarPorNumero(int numero)
+ void listarTodas()
+ void cadastrar(Conta conta)
+ void atualizar(Conta conta)
+ void deletar(int numero)
+ void sacar(int numero, float valor)
+ void depositar(int numero, float valor)
+ void transferir(int numeroOrigem, int numeroDestino, float valor)
}
class ContaController{
+ void procurarPorNumero(int numero)
+ void listarTodas()
+ void cadastrar(Conta conta)
+ void atualizar(Conta conta)
+ void deletar(int numero)
+ void sacar(int numero, float valor)
+ void depositar(int numero, float valor)
+ void transferir(int numeroOrigem, int numeroDestino, float valor)
+ int gerarNumero()
+ Conta buscarNaCollection(int numero) 
}
Conta <|-- ContaCorrente : √â um tipo de
Conta <|-- ContaPoupanca : √â um tipo de
Conta <-- ContaRepository : Tem uma
ContaRepository <|-- ContaController : Implementa
```

<br />

<h2>üë£ Passo 01 - Implementar o M√©todo Sacar</h2>

Na sequ√™ncia, vamos implementar o M√©todo Sacar, atrav√©s do c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/GQkNhJt.png" title="source: imgur.com" /></div>

**Linha 62:** Observe que na assinatura do M√©todo, foram inseridos 2 par√¢metros:

- **numero:** N√∫mero da conta que ser√° efetuada a opera√ß√£o de Saque.
- **valor:** O valor que ser√° debitado da conta. 

**Linha 63:** Antes de Efetuar o saque na conta, precisamos verificar se a conta existe. Observe que foi criada a vari√°vel local **buscaConta**, para receber o Objeto da Classe Conta, que foi encontrado na Collection **listaContas**. 

O Objeto **conta** foi criado atrav√©s da palavra reservada **var**. Por infer√™ncia, a palavra reservada **var** entende que a vari√°vel conta, deve ser um Objeto da Classe Conta, porque receber√° o retorno do M√©todo **buscarNaCollection**.

**Linhas 65 a 72:** Atrav√©s do La√ßo Condicional, verifica se o Objeto Conta foi encontrado (linha 66). 

- Se a conta foi encontrada, um novo la√ßo condicional ser√° executado para checar se o saque foi bem sucedido (linha 68). A opera√ß√£o saque ser√° efetuada atrav√©s do M√©todo **sacar(valor)**, do tipo boolean (verdadeiro ou falso). 
- Caso o saque tenha sido bem sucedido, o M√©todo retornar√° o valor **true** (verdadeiro) e na sequ√™ncia ser√° exibida uma mensagem confirmando o saque (linha 69). Caso o Saque **n√£o seja bem sucedido** (Saldo insuficiente), o pr√≥prio M√©todo **sacar(valor)** exibir√° uma mensagem indicando que o Saldo da conta √© insuficiente.
- Caso a conta n√£o seja encontrada (linha 71), ser√° exibida na tela a mensagem informando que a conta n√£o foi encontrada (linha 72).

Salve as altera√ß√µes!

Para efetuar o saque, precisamos receber o numero da Conta de origem e o valor do saque, via teclado. Para receber os dados via teclado, precisamos criar um "formul√°rio" para receber os dados atrav√©s dos Comandos de Entrada e Sa√≠da.

<br />

<h2>üë£ Passo 02 - Inserir o M√©todo Sacar na Classe Menu</h2>

Agora que implementamos o M√©todo Sacar, vamos inserir uma chamada para este M√©todo na Classe Menu:

Para efetuar as opera√ß√µes banc√°rias, vamos criar algumas vari√°veis, que ir√£o armazenar temporariamente os dados da transa√ß√£o.

1. Crie as novas vari√°veis na Classe Menu, como mostra o trecho de c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/ooJrfhR.png" title="source: imgur.com" /></div>

2. O trecho acima, cria as seguintes vari√°veis (marcada por uma linha vermelha):

| Nome          | Tipo  | Descri√ß√£o                                 |
| ------------- | ----- | ----------------------------------------- |
| numeroDestino | int   | Numero da conta de destino do dep√≥sito    |
| valor         | float | Valor do saque, dep√≥sito ou transfer√™ncia |

<br />

Vari√°veis criadas, vamos criar o formul√°rio da opera√ß√£o saque e criar a chamada para o M√©todo Sacar na Classe Menu

1. Na Classe Menu, localize o trecho de c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/vGQ94nC.png" title="source: imgur.com" /></div>

2. Insira o trecho de c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/pcoFdKh.png" title="source: imgur.com" /></div>

**Linhas 179 a 180:** Foi criada a entrada de dados, via teclado, para a vari√°vel **numero**.

**Linhas 182 a 185:** Foi criado um La√ßo de repeti√ß√£o **do...while**, para garantir que a vari√°vel **valor** receba via teclado um numero positivo e maior do que zero.

**Linha 184:** Foi criada a chamada para o M√©todo **sacar()**, criado na Classe **ContaController**. Na chamada do M√©todo foram inseridos 2 par√¢metros:

- **numero:** Numero da Conta onde o saque ser√° efetuado;
- **valor:** Valor que ser√° debitado da conta.

Salve e Execute o projeto clicando no bot√£o <img src="https://i.imgur.com/t28CIT4.png" title="source: imgur.com" width="4%"/>**Run**. 

1. Ser√° aberto o Menu, que deve ser semelhante ao da figura abaixo:

<div align="center"><img src="https://i.imgur.com/CWpS6qE.png" title="source: imgur.com" /></div>

2. Digite a op√ß√£o **6** (indicado com uma seta verde na imagem acima) e veja o resultado abaixo:

```bash
Digite o Numero da conta: 
1
Digite o Valor do Saque (R$): 
100

O Saque na Conta numero: 1 foi efetuado com sucesso!


Pressione Enter para Continuar...
```

No exemplo acima fizemos um saque de **R$ 100,00** na conta numero **1** e uma mensagem de confirma√ß√£o foi exibida na tela. 

3. Experimente repetir a opera√ß√£o na conta numero 10:

```bash
Digite o Numero da conta: 
10
Digite o Valor do Saque (R$): 
100

A Conta numero: 10 n√£o foi encontrada!

Pressione Enter para Continuar...
```

Observe que a conta numero **10** n√£o foi encontrada e uma mensagem foi exibida na tela. 

Na sequ√™ncia, vamos confirmar se o saque na conta numero 1 foi efetuado com sucesso:

1. Digite a op√ß√£o **3** (indicado com uma seta verde na imagem abaixo):

<div align="center"><img src="https://i.imgur.com/knikiOc.png" title="source: imgur.com" /></div>

2.  No item numero da conta, digite o numero **1** e veja o resultado abaixo:

```bash
Consultar dados da Conta - por n√∫mero

Digite o n√∫mero da conta: 
1

*********************************************************************
Dados da Conta:
*********************************************************************
Numero da Conta: 1
Ag√™ncia: 123
Tipo da Conta: Conta Corrente
Titular: Jo√£o da Silva
Saldo: 900.0
Limite de Cr√©dito: 100.0

Pressione Enter para Continuar...
```

Observe que o saldo da conta numero **1** foi alterado de **R$ 1000,00** para **R$ 900,00**, confirmando que o saque foi efetuado com sucesso. 

<br />

| <img src="https://i.imgur.com/L338M2G.png" title="source: imgur.com" width="138px"/> | **DESAFIO:** Experimente fazer um saque com um valor maior do que o Saldo da conta e um outro saque passando um valor negativo. No caso de uma Conta Corrente, lembre-se que o saldo √© composto por: saldo + limite. A melhor forma de aprender uma Linguagem de Programa√ß√£o √© praticando! |
| ------------------------------------------------------------ | :----------------------------------------------------------- |

<br />

<h2>üë£ Passo 03 - Implementar o M√©todo Depositar</h2>

Na sequ√™ncia, vamos implementar o M√©todo Depositar, atrav√©s do c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/TwnbzXj.png" title="source: imgur.com" /></div>

**Linha 76:** Observe que na assinatura do M√©todo, foram inseridos 2 par√¢metros:

- **numero:** N√∫mero da conta que ser√° efetuada a opera√ß√£o de Saque.
- **valor:** O valor que ser√° debitado da conta. 

**Linha 77:** Antes de Efetuar o dep√≥sito na conta, precisamos verificar se a conta existe. Observe que foi criada a vari√°vel local **conta**, para receber o Objeto da Classe Conta, que foi encontrado na Collection **listaContas**. Esse Objeto foi criado atrav√©s da palavra reservada **var**. Por infer√™ncia, a palavra reservada **var** entende que a vari√°vel conta, deve ser um Objeto da Classe Conta, porque receber√° o retorno do M√©todo **buscarNaCollection**.

- **Linhas 80 a 85:** Atrav√©s do La√ßo Condicional, verifica se o Objeto Conta foi encontrado (linha 80). 
  - Se a conta foi encontrada, a opera√ß√£o dep√≥sito ser√° efetuada atrav√©s do M√©todo **depositar(valor)** (linha 81). 
  - Na sequ√™ncia ser√° exibida uma mensagem confirmando o dep√≥sito (linha 82). 
  - Caso a conta n√£o seja encontrada (linha 83), ser√° exibida na tela a mensagem informando que a conta n√£o foi encontrada (linha 84).

Salve as altera√ß√µes!

Para efetuar o dep√≥sito, precisamos receber o numero da Conta de destino e o valor do dep√≥sito, via teclado. Para receber os dados via teclado, precisamos criar um "formul√°rio" para receber os dados atrav√©s dos Comandos de Entrada e Sa√≠da.

<br />

<h2>üë£ Passo 04 - Inserir o M√©todo Depositar na Classe Menu</h2>

Agora que implementamos o M√©todo Depositar, vamos inserir uma chamada para este M√©todo na Classe Menu:

Vamos criar o formul√°rio da opera√ß√£o dep√≥sito e criar a chamada para o M√©todo Depositar na Classe Menu

1. Na Classe Menu, localize o trecho de c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/znwmN9V.png" title="source: imgur.com" /></div>

2. Insira o trecho de c√≥digo abaixo:

<div align="center"><img src="https://imgur.com/61QYP01.png" title="source: imgur.com" /></div>

**Linhas 194 a 195:** Foi criada a entrada de dados, via teclado, para a vari√°vel **numero**.

**Linhas 197 a 200:** Foi criado um La√ßo de repeti√ß√£o **do...while**, para garantir que a vari√°vel **valor** receba via teclado um numero positivo e maior do que zero.

**Linha 202:** Foi criada a chamada para o M√©todo **depositar()**, criado na Classe **ContaController**. Na chamada do M√©todo foram inseridos 2 par√¢metros:

- **numero:** Numero da Conta onde o dep√≥sito ser√° efetuado;
- **valor:** Valor que ser√° creditado da conta.

Salve e Execute o projeto clicando no bot√£o <img src="https://i.imgur.com/t28CIT4.png" title="source: imgur.com" width="4%"/>**Run**. 

1. Ser√° aberto o Menu, que deve ser semelhante ao da figura abaixo:

<div align="center"><img src="https://i.imgur.com/6OYK0D5.png" title="source: imgur.com" /></div>

2. Digite a op√ß√£o **7** (indicado com uma seta verde na imagem acima) e veja o resultado abaixo:

```bash
Dep√≥sito

Digite o Numero da conta: 
1
Digite o Valor do Dep√≥sito (R$): 
100

O Dep√≥sito na Conta numero: 1 foi efetuado com sucesso!

Pressione Enter para Continuar...
```

No exemplo acima fizemos um dep√≥sito de **R$ 100,00** na conta numero **1** e uma mensagem de confirma√ß√£o foi exibida na tela. 

3. Experimente repetir a opera√ß√£o na conta numero 10:

```bash
Dep√≥sito

Digite o Numero da conta: 
10
Digite o Valor do Dep√≥sito (R$): 
100

A Conta numero: 10 n√£o foi encontrada ou a Conta destino n√£o √© uma Conta Corrente!

Pressione Enter para Continuar...
```

Observe que a conta numero **10** n√£o foi encontrada e uma mensagem foi exibida na tela. 

Na sequ√™ncia, vamos confirmar se o dep√≥sito na conta numero 1 foi efetuado com sucesso:

1. Digite a op√ß√£o **3** (indicado com uma seta verde na imagem abaixo):

<div align="center"><img src="https://i.imgur.com/knikiOc.png" title="source: imgur.com" /></div>

2.  No item numero da conta, digite o numero **1** e veja o resultado abaixo:

```bash
Consultar dados da Conta - por n√∫mero

Digite o n√∫mero da conta: 
1

*********************************************************************
Dados da Conta:
*********************************************************************
Numero da Conta: 1
Ag√™ncia: 123
Tipo da Conta: Conta Corrente
Titular: Jo√£o da Silva
Saldo: 1100.0
Limite de Cr√©dito: 100.0

Pressione Enter para Continuar...
```

Observe que o saldo da conta numero **1** foi alterado de **R$ 1000,00** para **R$ 1100,00**, confirmando que o dep√≥sito foi efetuado com sucesso. 

<br />

| <img src="https://i.imgur.com/L338M2G.png" title="source: imgur.com" width="138px"/> | **DESAFIO:** Experimente fazer um dep√≥sito passando um valor negativo. A melhor forma de aprender uma Linguagem de Programa√ß√£o √© praticando! |
| ------------------------------------------------------------ | :----------------------------------------------------------- |

<br />

<h2>üë£ Passo 05 - Implementar o M√©todo Transferir</h2>

Na sequ√™ncia, vamos implementar o M√©todo Transferir, atrav√©s do c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/O2uwEiC.png" title="source: imgur.com" /></div>

**Linha 90:** Observe que na assinatura do M√©todo, foram inseridos 3 par√¢metros:

- **numeroOrigem:** N√∫mero da conta que ser√° efetuada a opera√ß√£o de Saque.
- **numeroDestino:** N√∫mero da conta que ser√° efetuada a opera√ß√£o de Dep√≥sito, ou seja, receber√° a Transfer√™ncia.
- **valor:** O valor que ser√° debitado da conta de origem e ser√° creditado na conta de destino. 

**Linha 91:** Antes de Efetuar o saque na conta de origem, precisamos verificar se a conta existe. Observe que foi criada a vari√°vel local **contaOrigem**, para receber o Objeto da Classe Conta, que foi encontrado na Collection **listaContas**. 

**Linha 92:** Antes de Efetuar o dep√≥sito na conta de destino, precisamos verificar se a conta existe. Observe que foi criada a vari√°vel local **contaDestino**, para receber o Objeto da Classe Conta, que foi encontrado na Collection **listaContas**. 

- **Linhas 94 a 102:** Atrav√©s do La√ßo Condicional, verifica se os dois Objetos Conta (conta origem e conta destino) foram encontrados (linha 94). 
  - Se as 2 contas foram encontradas, um novo la√ßo condicional ser√° executado para checar se o saque na conta origem foi bem sucedido (linha 96). A opera√ß√£o saque ser√° efetuada atrav√©s do M√©todo **sacar(valor)**, do tipo boolean (verdadeiro ou falso). 
  - Caso o saque tenha sido bem sucedido, o M√©todo retornar√° o valor **true** (verdadeiro) . 
  - Caso o Saque **n√£o seja bem sucedido** (Saldo insuficiente), o pr√≥prio M√©todo **sacar(valor)** exibir√° uma mensagem indicando que o Saldo da conta √© insuficiente.
  - Na sequ√™ncia, a opera√ß√£o dep√≥sito ser√° efetuada na conta destino, atrav√©s do M√©todo **depositar(valor)** (linha 97). 
  - Se as 2 opera√ß√µes forem bem sucedidas, ser√° exibida uma mensagem confirmando a transfer√™ncia (linha 98).
  - Caso uma ou as duas contas n√£o sejam encontradas (linha 101), ser√° exibida na tela a mensagem informando que as contas n√£o foram encontradas (linha 102).

Salve as altera√ß√µes!

Para efetuar a transfer√™ncia, precisamos receber os n√∫meros das Contas de origem e destino, al√©m do valor da transfer√™ncia, via teclado. Para receber os dados via teclado, precisamos criar um "formul√°rio" para receber os dados atrav√©s dos Comandos de Entrada e Sa√≠da.

<br />

<h2>üë£ Passo 06 - Inserir o M√©todo Transferir na Classe Menu</h2>

Agora que implementamos o M√©todo Transferir, vamos inserir uma chamada para este M√©todo na Classe Menu:

Vamos criar o formul√°rio da opera√ß√£o transfer√™ncia e criar a chamada para o M√©todo Transferir na Classe Menu

1. Na Classe Menu, localize o trecho de c√≥digo abaixo:

<div align="center"><img src="https://imgur.com/Y60yVnr.png" title="source: imgur.com" /></div>

2. Insira o trecho de c√≥digo abaixo:

<div align="center"><img src="https://imgur.com/Od0mJhj.png" title="source: imgur.com" /></div>

**Linhas 209 a 212:** Foi criada a entrada de dados, via teclado, para as vari√°veis **numero** e **numeroDestino**.

**Linhas 214 a 217:** Foi criado um La√ßo de repeti√ß√£o **do...while**, para garantir que a vari√°vel **valor** receba via teclado um numero positivo e maior do que zero.

**Linha 219:** Foi criada a chamada para o M√©todo **transferir()**, criado na Classe **ContaController**. Na chamada do M√©todo foram inseridos 3 par√¢metros:

- **numero:** N√∫mero da conta que ser√° efetuada a opera√ß√£o de Saque.
- **numeroDestino:** N√∫mero da conta que ser√° efetuada a opera√ß√£o de Dep√≥sito, ou seja, receber√° a Transfer√™ncia.
- **valor:** O valor que ser√° debitado da conta de origem e ser√° creditado na conta de destino. 

Salve e Execute o projeto clicando no bot√£o <img src="https://i.imgur.com/t28CIT4.png" title="source: imgur.com" width="4%"/>**Run**. 

1. Ser√° aberto o Menu, que deve ser semelhante ao da figura abaixo:

<div align="center"><img src="https://i.imgur.com/yGuIMkb.png" title="source: imgur.com" /></div>

2. Digite a op√ß√£o **6** (indicado com uma seta verde na imagem acima) e veja o resultado abaixo:

```bash
Transfer√™ncia entre Contas

Digite o Numero da Conta de Origem: 
1
Digite o Numero da Conta de Destino: 
2
Digite o Valor da Transfer√™ncia (R$): 
100

A Transfer√™ncia foi efetuado com sucesso!

Pressione Enter para Continuar...
```

No exemplo acima fizemos uma transfer√™ncia de **R$ 100,00** da conta numero **1** para a conta numero 2 e uma mensagem de confirma√ß√£o foi exibida na tela. 

3. Experimente repetir a opera√ß√£o na conta de origem numero 10:

```bash
Transfer√™ncia entre Contas

Digite o Numero da Conta de Origem: 
10
Digite o Numero da Conta de Destino: 
2
Digite o Valor da Transfer√™ncia (R$): 
100

A Conta de Origem e/ou Destino n√£o foram encontradas!

Pressione Enter para Continuar...
```

Observe que a conta numero **10** n√£o foi encontrada e uma mensagem foi exibida na tela. 

Na sequ√™ncia, vamos confirmar se a transfer√™ncia da conta numero 1 para a conta numero 2 foi efetuada com sucesso:

1. Digite a op√ß√£o **3** (indicado com uma seta verde na imagem abaixo):

<div align="center"><img src="https://i.imgur.com/knikiOc.png" title="source: imgur.com" /></div>

2.  No item numero da conta, digite o numero **1** e veja o resultado abaixo:

```bash
Consultar dados da Conta - por n√∫mero

Digite o n√∫mero da conta: 
1

*********************************************************************
Dados da Conta:
*********************************************************************
Numero da Conta: 1
Ag√™ncia: 123
Tipo da Conta: Conta Corrente
Titular: Jo√£o da Silva
Saldo: 900.0
Limite de Cr√©dito: 100.0

Pressione Enter para Continuar...
```

Observe que o saldo da conta numero **1** foi alterado de **R$ 1000,00** para **R$ 900,00**, confirmando que o saque foi efetuado com sucesso. 

3. Na sequ√™ncia, vamos checar a conta numero **2** e veja o resultado abaixo:

```bash
Consultar dados da Conta - por n√∫mero

Digite o n√∫mero da conta: 
2

*********************************************************************
Dados da Conta:
*********************************************************************
Numero da Conta: 2
Ag√™ncia: 124
Tipo da Conta: Conta Corrente
Titular: Maria da Silva
Saldo: 2100.0
Limite de Cr√©dito: 100.0

Pressione Enter para Continuar...
```

Observe que o saldo da conta numero **2** foi alterado de **R$ 1000,00** para **R$ 1000,00**, confirmando que a transfer√™ncia  foi efetuada com sucesso.

<br />

| <img src="https://i.imgur.com/L338M2G.png" title="source: imgur.com" width="138px"/> | **DESAFIO:** Experimente fazer uma transfer√™ncia com um valor maior do que o Saldo da conta de origem e uma outra transfer√™ncia passando um valor negativo. No caso de uma Conta Corrente, lembre-se que o saldo √© composto por: saldo + limite. A melhor forma de aprender uma Linguagem de Programa√ß√£o √© praticando! |
| ------------------------------------------------------------ | :----------------------------------------------------------- |

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="25px"/> <a href="https://github.com/rafaelq80/conta_bancaria_java/blob/09_Controller_Metodos_Espec%C3%ADficos/src/conta/controller/ContaController.java" target="_blank"><b>C√≥digo fonte: ContaController.java</b></a></div>

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="25px"/> <a href="https://github.com/rafaelq80/conta_bancaria_java/blob/09_Controller_Metodos_Espec%C3%ADficos/src/conta/Menu.java" target="_blank"><b>C√≥digo fonte: Menu.java</b></a></div>


<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="25px"/> <a href="https://github.com/rafaelq80/conta_bancaria_java/tree/09_Controller_Metodos_Espec%C3%ADficos" target="_blank"><b>C√≥digo fonte: Projeto Conta Banc√°ria</b></a></div>


<br /><br />

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>
