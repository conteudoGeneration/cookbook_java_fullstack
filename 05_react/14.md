<h1>Projeto Blog Pessoal - Criar as Interfaces Model</h1>



Dependendo da complexidade da aplica√ß√£o e das tecnologias utilizadas, a **integra√ß√£o do Frontend com o Backend** pode ter estruturas diferentes. Mesmo assim, podemos resumir essa integra√ß√£o em **tr√™s estruturas principais**: **Model, Service e Gerenciamento de Estado Global**.

* **Model:** S√£o arquivos TypeScript que definem **modelos de dados**, ou seja, como os dados ser√£o organizados e estruturados na aplica√ß√£o React. Eles podem ser usados para **validar** ou **normalizar** dados antes de serem enviados ao Backend ou exibidos na tela. **Na pr√°tica:** uma Model √© um arquivo TypeScript (`*.ts`) que define uma **Interface**, representando o modelo de dados.

  **Service:** S√£o scripts TypeScript compostos por **fun√ß√µes ass√≠ncronas**, respons√°veis por executar opera√ß√µes externas, como consumo de APIs, autentica√ß√£o de usu√°rios e manipula√ß√£o de dados. O objetivo √© manter a **l√≥gica de neg√≥cios separada** dos componentes React, tornando o c√≥digo **modular e mais f√°cil de manter**. **Na pr√°tica:** uma Service √© um arquivo TypeScript (`*.ts`) com fun√ß√µes ass√≠ncronas que enviam requisi√ß√µes HTTP ao Backend e processam as respostas recebidas.

  **Gerenciamento de Estado Global:** √â o processo de controlar e compartilhar **estados (dados)** que precisam ser acessados ou modificados por v√°rios componentes da aplica√ß√£o, em vez de ficarem restritos a um √∫nico componente (como ocorre com estado local). **Na pr√°tica:** ser√° implementado como um **Componente Funcional React** (`*.tsx`), que define estados e fun√ß√µes compartilh√°veis globalmente, geralmente usando a **Context API**.

Neste conte√∫do, vamos focar na constru√ß√£o do **Modelo de dados (Model)**. Na pr√°tica, ele ser√° uma c√≥pia do modelo de dados da API, adaptando os tipos utilizados no Backend (Java, C#, TypeScript, entre outros.) para os tipos equivalentes no TypeScript.

<br />

> Diferente de outras linguagens orientadas a objetos, no TypeScript **uma Interface pode ser utilizada para definir tipos de dados complexos**, incluindo objetos, sem precisar implementar m√©todos ou l√≥gica interna.
>
> Uma Interface **n√£o inicializa objetos** como uma classe; ela apenas define a estrutura e os tipos dos atributos, garantindo que os dados respeitem o modelo esperado.
>
> **Sintaxe:**
>
> ```typescript
> export interface nome_da_interface{
>  atributo1: tipo;
>  atributo2: tipo;
>  ...
>  atributoN: tipo;
> }
> ```
>
> Observe que **n√£o h√° construtores, getters ou setters**. Apenas os atributos s√£o definidos com seus tipos, de forma semelhante ao formato **JSON (JavaScript Object Notation)**.

<br />

> [!IMPORTANT]
>
> **Todas as Interfaces Model ser√£o arquivos do tipo TypeScript (*.ts), porque n√£o se tratam de Componentes Funcionais React.**

<br />

<h2>üë£ Passo 01 - Obter o Modelo de dados</h2>



Para obter os Modelos de dados, que ser√£o constru√≠dos, vamos acessar as P√°gina do Swagger, do Backend Remoto:

1. Acesse o site do **[Render](https://render.com)**
2. Fa√ßa o login no Render
3. Acesse o Dashboard do Render
4. Clique no **WebService blogpessoal**, como mostra a imagem abaixo:

<a href="https://imgur.com/w2Bh3Sx"><img src="https://i.imgur.com/w2Bh3Sx.png" title="source: imgur.com" /></a>

5. Clique no link, indicado na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/TlY7nP5.png" title="source: imgur.com" /></div>

6. No final da P√°gina do Swagger, localize o item **Schemas**:

<div align="center"><img src="https://imgur.com/vvyKocV.png" title="source: imgur.com" /></div>

Observe que nesta se√ß√£o do Swagger, voc√™ ter√° acesso a todas as Classes Model (Entity) do seu Backend, com os seus respectivos atributos, tipos e regras de valida√ß√£o. Para cada Classe Model ser√° criada uma Interface Model equivalente no React.

<br />

> [!TIP]
>
> **No TypeScript, vari√°veis num√©ricas (integer, float, double, entre outras), sempre ser√£o tipadas como number, independente de possuir casas decimais ou n√£o.**

<br />

<h2>üë£ Passo 02 - Criar a pasta Models</h2>



Antes de criarmos as nossas Interfaces onde definiremos o Modelo de dados da aplica√ß√£o, vamos criar a pasta **models**:

<br />

> [!IMPORTANT]
>
> **Os nomes das pastas sempre devem ser escritos com letras min√∫sculas, para evitar conflitos no momento do Deploy da aplica√ß√£o React.**

<br />

1. Na pasta **src**, clique com o bot√£o direito do mouse e clique na op√ß√£o **New Folder** (Nova Pasta).
2. O nome da pasta ser√° **models**. Ap√≥s digitar o nome da pasta, pressione a tecla **enter** do seu teclado para concluir.
3. Ao concluir, voc√™ deve estar a seguinte estrutura dentro da pasta **src**:

<div align="center"><img src="https://i.imgur.com/1y2e6jD.png" title="source: imgur.com" /></div>

<br />

<h2><img src="https://i.imgur.com/izFuHID.png" title="source: imgur.com" width="4%"/>Passo 03 - Criar a Model Usuario</h2>



Vamos come√ßar criando a Interface Model **Usuario**: 

1. Clique com o bot√£o direito do mouse sobre a pasta **models**, e clique na op√ß√£o **New File** (Novo Arquivo).
2. O nome do arquivo ser√° **Usuario.ts**. Ap√≥s digitar o nome do arquivo, pressione a tecla **enter** do seu teclado para concluir.

<br />

> [!NOTE]
>
> **Diferente dos arquivos que definem um Componentes React, o arquivo que define uma Interface Model utilizar√° a extens√£o .ts (TypeScript), ao inv√©s de utilizar a extens√£o .tsx (React).**

<br />

3. Adicione o c√≥digo abaixo na Interface **Usuario**:

<div align="center"><img src="https://i.imgur.com/nTQZvw4.png" title="source: imgur.com" /></div>

 **Vamos analisar o c√≥digo:**

**Linha 01:** Importamos a **Model `Postagem`**, que ser√° criada na sequ√™ncia. Essa importa√ß√£o utiliza a op√ß√£o **`import type`**, indicando que estamos importando apenas **tipos TypeScript** e n√£o valores ou fun√ß√µes em tempo de execu√ß√£o. Essa pr√°tica ajuda a **otimizar a compila√ß√£o**, evitando a inclus√£o desnecess√°ria de c√≥digo durante a transpila√ß√£o.

<br />

> [!IMPORTANT]
>
> No **React 19** com **TypeScript 4.5 ou superior**, utilizamos o  **`import type`**, que permite importar apenas tipos (interfaces, props, entre outros.), sem incluir c√≥digo desnecess√°rio na vers√£o final do projeto, reduzindo o tamanho do build e melhorando a performance.
>
> Al√©m disso, ajuda a evitar **ciclos de depend√™ncia** entre arquivos. Fun√ß√µes, objetos ou componentes ainda devem ser importados com a sintaxe normal de `import`.

<br />

**Linha 03:** Definimos a interface **`Usuario`**. A palavra-chave **`export default`** permite que essa Interface seja facilmente importada em **outras Interfaces Model** e nos **Componentes React**.

**Linhas 04 a 08:** Declaramos os atributos da Interface **`Usuario`**, seguindo as tipagens correspondentes √† Model constru√≠da no Backend. Isso garante que os dados manipulados no Frontend estejam **estritamente alinhados com a estrutura do Backend**.

**Linha 09:** O atributo **`postagem`** representa o **relacionamento entre as Classes `Usuario` e `Postagem`**, criado no Backend. Para refletir isso no Frontend, utilizamos um **array**, que armazenar√° todas as postagens associadas a cada usu√°rio.

Alguns detalhes importantes sobre a tipagem:

- O s√≠mbolo de **pipe (`|`)** indica que a propriedade pode ter **mais de um tipo de dado**, funcionando como um **‚ÄúOU‚Äù l√≥gico**.
- A tipagem **`null`** indica que a propriedade **pode ser nula**, ou seja, o usu√°rio pode n√£o ter postagens associadas.
- O **Operador de Encadeamento Opcional (`?`)** junto do atributo **`postagem`** sinaliza que o preenchimento deste campo √© **opcional**. Quando criamos um novo objeto baseado nesta Model, esse atributo pode ser omitido. Caso seja preenchido, ele ser√° um **array de objetos da Model `Postagem`** ou **`null`**, refletindo corretamente a rela√ß√£o entre o usu√°rio e as suas postagens.

<br />

> [!IMPORTANT]
>
> **Como ainda n√£o criamos a Model Postagem, o Visual Studio Code apontar√° um erro, indicando que n√£o pode encontrar a Interface Model Postagem. N√£o se preocupe, pois j√° iremos cri√°-la na sequ√™ncia.** 

<br />

<h2><img src="https://i.imgur.com/izFuHID.png" title="source: imgur.com" width="4%"/>Passo 04 - Criar a Model Tema</h2>



Na sequ√™ncia, Vamos criar a Interface Model **Tema**: 

1. Clique com o bot√£o direito do mouse sobre a pasta **models**, e clique na op√ß√£o **New File** (Novo Arquivo).
2. O nome do arquivo ser√° **Tema.ts**. Ap√≥s digitar o nome do arquivo, pressione a tecla **enter** do seu teclado para concluir.
3. Adicione o c√≥digo abaixo na Interface **Tema**:

<div align="center"><img src="https://i.imgur.com/6jSreJA.png" title="source: imgur.com" /></div>

**Vamos analisar o c√≥digo:**

**Linha 01:** Importamos a **Model `Postagem`**, que ser√° criada na sequ√™ncia. Essa importa√ß√£o utiliza a op√ß√£o **`import type`**, indicando que estamos importando apenas **tipos TypeScript** e n√£o valores ou fun√ß√µes em tempo de execu√ß√£o. Essa pr√°tica ajuda a **otimizar a compila√ß√£o**, evitando a inclus√£o desnecess√°ria de c√≥digo durante a transpila√ß√£o.

**Linha 03:** Definimos a interface **`Tema`**, que representar√° a estrutura de dados correspondente √† Model do Backend.

**Linhas 04 e 05:** Declaramos os atributos da interface **`Tema`**, atribuindo suas respectivas tipagens, de acordo com o modelo definido no Backend. Isso garante **consist√™ncia entre Frontend e Backend**.

**Linha 06:** O atributo **`postagem`** representa o **relacionamento entre as Classes `Tema` e `Postagem`**. No Frontend, ele √© definido como um **array**, permitindo que todas as postagens associadas a um tema sejam armazenadas e exibidas corretamente.

Alguns detalhes importantes sobre a tipagem:

- O s√≠mbolo de **pipe (`|`)** indica que a propriedade pode ter **mais de um tipo de dado**, funcionando como um **‚ÄúOU‚Äù l√≥gico**.
- A tipagem **`null`** indica que a propriedade **pode ser nula**, ou seja, o tema pode n√£o ter postagens associadas.
- O **Operador de Encadeamento Opcional (`?`)** junto do atributo **`postagem`** sinaliza que o preenchimento deste campo √© **opcional**. Quando criamos um novo objeto baseado nesta Model, esse atributo pode ser omitido. Caso seja preenchido, ele ser√° um **array de objetos da Model `Postagem`** ou **`null`**, refletindo corretamente a rela√ß√£o entre o tema e as suas postagens.

<br />

> [!IMPORTANT]
>
> **Como ainda n√£o criamos a Model Postagem, o Visual Studio Code apontar√° um erro indicando que n√£o pode encontrar a Interface Model Postagem. N√£o se preocupe, pois j√° iremos cri√°-la na sequ√™ncia.** 

<br>

<h2><img src="https://i.imgur.com/izFuHID.png" title="source: imgur.com" width="4%"/>Passo 05 - Criar a Model Postagem</h2>



Na sequ√™ncia, Vamos criar a Interface Model **Postagem**: 

1. Clique com o bot√£o direito do mouse sobre a pasta **models**, e clique na op√ß√£o **New File** (Novo Arquivo).
2. O nome do arquivo ser√° **Postagem.ts**. Ap√≥s digitar o nome do arquivo, pressione a tecla **enter** do seu teclado para concluir.
3. Adicione o trecho de c√≥digo abaixo na Interface **Postagem**:

<div align="center"><img src="https://i.imgur.com/agIFODG.png" title="source: imgur.com" /></div>

**Vamos analisar o c√≥digo:**

**Linhas 01 e 02:** Importamos a Model Usuario e a Model Tema, devido ao Relacionamento existente no Backend, entre as 3 Classes.

**Linha 04:** Aqui definimos a interface **Postagem**.

**Linhas 05 a 08:** Declaramos os atributos da Interface **Postagem**, com as suas respectivas tipagens, de acordo com a respectiva Model constru√≠da no Backend.

<br />

> [!IMPORTANT]
>
> O atributo **`data`**, embora represente um valor de **data e hora**, foi definido como **string**. Isso acontece porque, no Frontend, **n√£o faremos nenhuma manipula√ß√£o com datas**, apenas exibiremos o valor recebido.
>
> Al√©m disso, por se tratar de um atributo **gerenciado e atualizado pelo Backend**, n√£o h√° necessidade de tip√°-lo como `Date` no TypeScript. Dessa forma, mantemos o modelo **simples e alinhado com o uso real na aplica√ß√£o**.

<br />

**Linha 09:** O atributo **`tema`** representa o **relacionamento entre as Classes `Postagem` e `Tema`**, criado no Backend. Ele indica a qual tema cada postagem est√° associada e, no Frontend, ser√° tipado de forma compat√≠vel com a **Model `Tema`**.

**Linha 10:** O atributo **`usuario`** representa o **relacionamento entre as Classes `Postagem` e `Usuario`**, tamb√©m criado no Backend. Ele identifica o usu√°rio respons√°vel pela postagem e ser√° tipado conforme a **Model `Usuario`**.

<br />

<h2><img src="https://i.imgur.com/izFuHID.png" title="source: imgur.com" width="4%"/>Passo 06 - Criar a Model UsuarioLogin</h2>



Para finalizar, vamos criar a Interface Model **UsuarioLogin**: 

1. Clique com o bot√£o direito do mouse sobre a pasta **models**, e clique na op√ß√£o **New File** (Novo Arquivo).
2. O nome do arquivo ser√° **UsuarioLogin.ts**. Ap√≥s digitar o nome do arquivo, pressione a tecla **enter** do seu teclado para concluir.
3. Adicione o trecho de c√≥digo abaixo na Interface **UsuarioLogin**:

<div align="center"><img src="https://i.imgur.com/6aK35mP.png" title="source: imgur.com" /></div>

**Vamos analisar o c√≥digo:**

**Linha 01:** Definimos a interface **`UsuarioLogin`**, que representar√° a estrutura de dados utilizada durante o processo de autentica√ß√£o.

**Linhas 02 a 07:** Declaramos os atributos da interface **`UsuarioLogin`**, com suas respectivas tipagens, de acordo com a Model constru√≠da no Backend. Isso garante que os dados recebidos ou enviados estejam **compat√≠veis com a API**.

<br />

> [!WARNING]
>
> No **Projeto Blog Pessoal**, desenvolvido com o Framework **NestJS**, a Classe Entidade (Model) **`UsuarioLogin`** cont√©m apenas **dois atributos**: **`usuario`** e **`senha`**.
>
> Entretanto, ao efetuar login na API, o objeto retornado pelo Backend inclui **todos os dados do usu√°rio**, al√©m do **Token JWT**.
>
> Por esse motivo, a Model **`UsuarioLogin`** no Frontend foi constru√≠da para incluir **todos esses atributos**, permitindo que a aplica√ß√£o manipule corretamente as informa√ß√µes recebidas.

<br />

Veja na imagem abaixo, a estrutura da pasta **models**, depois da constru√ß√£o das 4 Interfaces Model:

<div align="center"><img src="https://i.imgur.com/y4QDFUf.png" title="source: imgur.com" /></div>

<br />

<div align="left"><img src="https://i.imgur.com/izFuHID.png" title="source: imgur.com" width="3%"/> <a href="https://www.typescriptlang.org/docs/handbook/modules.html#default-exports" target="_blank"><b>TypeScript - Default Export</b></a></div>

<div align="left"><img src="https://i.imgur.com/izFuHID.png" title="source: imgur.com" width="3%"/> <a href="https://www.typescriptlang.org/docs/handbook/typescript-tooling-in-5-minutes.html#interfaces" target="_blank"><b>TypeScript - Interface</b></a></div>

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="5%"/> <a href="https://github.com/rafaelq80/blogpessoal_react_v19/tree/07_Models" target="_blank"><b>C√≥digo fonte do projeto</b></a></div>

<br /><br />
	

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>
