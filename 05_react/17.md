<h1>Introdu√ß√£o a Context API</h1>



Antes de falarmos sobre a **Context API**, vamos relembrar os conceitos fundamentais de **Estado**, **Props** e **Gerenciamento de Estado** no React:

<br />

<h2>1. Estado (State)</h2>



Todo componente do React possui um objeto especial chamado **state** (estado), que armazena dados pr√≥prios daquele componente.

Sempre que o estado muda, o componente √© **re-renderizado**, refletindo imediatamente a altera√ß√£o na interface.

üëâ Em resumo: o **estado** √© onde guardamos informa√ß√µes que podem mudar ao longo do tempo, como o texto digitado em um input, a cor de um bot√£o ou os dados de um usu√°rio autenticado.

<br />

<h2>2. Props</h2>



As **props** (propriedades) s√£o a forma de **comunicar dados de um componente pai para um componente filho**.

Elas funcionam **como os par√¢metros de uma fun√ß√£o** no TypeScript ou JavaScript.

Importante destacar que as **props s√£o imut√°veis** ‚Äî ou seja, o componente filho pode **usar** a prop, mas n√£o pode **modificar diretamente** o valor recebido.

üëâ **Exemplo:** um componente `Button` pode receber via props o texto do r√≥tulo e a fun√ß√£o que ser√° chamada no clique.

<br />

<h2>3. Gerenciamento de Estado no React</h2>



Gerenciar estados significa **organizar, controlar e compartilhar dados** dentro de uma aplica√ß√£o React.

Isso garante que todos os componentes que dependem desses dados permane√ßam sincronizados e atualizados.

Esse gerenciamento √© essencial em aplica√ß√µes din√¢micas, onde os dados mudam constantemente ‚Äî seja por intera√ß√µes do usu√°rio (digitar, clicar, selecionar) ou por eventos externos (respostas da API, atualiza√ß√µes em tempo real).

Um gerenciamento de estado bem estruturado melhora a **performance**, mant√©m a **integridade dos dados** e garante uma **boa experi√™ncia do usu√°rio**.

<br />

<h2>4. Gerenciamento de Estado Usando Props</h2>



Uma forma simples de compartilhar estado √© **manter o estado no componente pai** e repass√°-lo aos filhos por meio de props.

Essa abordagem funciona bem em aplica√ß√µes pequenas, com hierarquia de componentes reduzida.

No entanto, em estruturas mais complexas, surge o chamado **prop drilling**: a necessidade de passar dados por v√°rios componentes intermedi√°rios, mesmo que eles n√£o usem essas informa√ß√µes.

**Exemplo**

<div align="center"><img src="https://i.imgur.com/SNdvp5y.png" title="source: imgur.com" /></div>

No exemplo acima, para que o componente **Perfil** receba os dados, eles precisam ser repassados por todos os componentes intermedi√°rios (App, Login e Home). Isso torna o c√≥digo mais verboso e dif√≠cil de manter.

<br />

<h3>4.1. A Solu√ß√£o: Context API</h3>



Para evitar essa complexidade, o React oferece a **Context API**, que permite armazenar dados em um n√≠vel superior da √°rvore de componentes e disponibiliz√°-los diretamente para qualquer componente que precise, **sem a necessidade de passar props manualmente**.

<br />

**Exemplo**

<div align="center"><img src="https://i.imgur.com/F2sJKkK.png" title="source: imgur.com" /></div>

Neste exemplo, o componente **Perfil** consegue acessar os dados diretamente do contexto, sem depender dos componentes intermedi√°rios.

<br />

<h2>5. O que √© o React Context?</h2>



O **React Context** permite compartilhar dados entre componentes da aplica√ß√£o **sem precisar passar Props manualmente** em cada n√≠vel da √°rvore de componentes. Em outras palavras, ele facilita o acesso a estados ou informa√ß√µes que devem estar dispon√≠veis para v√°rios componentes ao mesmo tempo.

<br />

<h3>5.1. Quando utilizar o React Context?</h3>



O React Context √© ideal para dados que precisam ser acessados por m√∫ltiplos componentes, como por exemplo:

- Tema da aplica√ß√£o (modo claro ou escuro);
- Informa√ß√µes do usu√°rio logado (autentica√ß√£o);
- Configura√ß√µes de localiza√ß√£o ou idioma;
- Qualquer outro dado global que precise ser consumido em diferentes partes da aplica√ß√£o.

√â importante lembrar que o React Context **n√£o foi criado para gerenciar estados com atualiza√ß√µes constantes**. Ele funciona mais como um facilitador para compartilhamento de dados, parecido com vari√°veis globais em outras linguagens de programa√ß√£o.

A **Context** deve ser utilizado com cautela, j√° que sua aplica√ß√£o indiscriminada pode gerar **re-renderiza√ß√µes desnecess√°rias** em m√∫ltiplos componentes da √°rvore. 

Isso acontece porque qualquer altera√ß√£o no valor do Context faz com que todos os componentes que o consomem sejam renderizados novamente, mesmo que apenas uma parte deles precise da atualiza√ß√£o. 

Por isso, recomenda-se avaliar bem os casos de uso, optando pelo Context em situa√ß√µes em que realmente haja a necessidade de compartilhar dados globais, como autentica√ß√£o ou tema da aplica√ß√£o, e considerar alternativas como bibliotecas de gerenciamento de estado para cen√°rios mais complexos.

<br />

<h2>6. Context API</h2>



A **Context API** √© a **implementa√ß√£o pr√°tica** do **React Context**. √â uma API integrada que fornece os elementos `Provider` e o hook `useContext` para disponibilizar e consumir os dados em qualquer componente da aplica√ß√£o. Ou seja, enquanto o *React Context √© o conceito, a Context API √© implementa√ß√£o pr√°tica atrav√©s de `createContext`, `Provider` e `useContext`*.

<br />

> [!NOTE]
>
> Al√©m da Context API, existem bibliotecas externas populares para gerenciamento de estado no React, como **Redux** e **Zustand**, que oferecem solu√ß√µes mais completas para aplica√ß√µes com estados complexos.
>
> <br />
>
> <div align="left"><img src="https://i.imgur.com/MLGHHVY.png" title="source: imgur.com" width="4%"/> <a href="https://redux.js.org" target="_blank"><b>Redux</b></a></div>
>
> <div align="left"><img src="https://i.imgur.com/AAZjJr8.png" title="source: imgur.com" width="4%"/> <a href="https://zustand-demo.pmnd.rs/" target="_blank"><b>Zustand</b></a></div>
>
> <br />

<br />

<h3>6.1. Estrutura da Context API</h3>



A **Context API** √© uma ferramenta nativa do React que permite criar e gerenciar **Estados Globais**, compartilhando dados e fun√ß√µes entre componentes sem a necessidade de passar Props manualmente. 

Apesar de poder assumir diferentes formas dependendo da aplica√ß√£o, sua estrutura b√°sica se resume em tr√™s elementos principais: **Context**, **Provider** e **Consumer**.

- **Contexto (Context):** Um **objeto de contexto** criado pelo **`createContext()`**, que atua como um objeto que armazena os valores e fun√ß√µes que podem ser compartilhados globalmente. O contexto n√£o √© um componente, mas um objeto que fornece a estrutura para armazenar dados e fun√ß√µes que podem ser compartilhados entre todos os componentes da aplica√ß√£o por meio do **Provider** e consumidos pelo **`useContext`**.
- **Provedor do Contexto (Provider):** Componente normalmente inserido no **App**, que envolve outros componentes e fornece o estado global da aplica√ß√£o. Ele define o que ser√° compartilhado atrav√©s da propriedade **`value`**. Todos os estados e fun√ß√µes que precisam ser acess√≠veis globalmente s√£o implementados dentro do Provider.
- **Consumir o Contexto (Consumer):** Todos os componentes descendentes dentro do **Provider** que precisam acessar o estado global podem usar o **hook `useContext`**. Esse hook permite obter os valores armazenados no contexto e executar fun√ß√µes definidas no **Provider**, sem precisar passar props manualmente por cada n√≠vel da √°rvore de componentes.

<br />

> [!IMPORTANT]
>
> Cada **Provider** cria um **escopo pr√≥prio**, ou seja, **dois Providers diferentes podem coexistir em partes distintas da √°rvore de componentes sem conflito**, cada um mantendo seu estado independente.

<br />



<br />

<h3>6.2. O hook useContext</h3>



O **`useContext()`** √© um **React Hook** que permite consumir um contexto diretamente em qualquer componente que esteja dentro do Provider. Ele substitui a necessidade de passar Props manualmente em cada n√≠vel da √°rvore de componentes, tornando o compartilhamento de estados e fun√ß√µes mais simples e escal√°vel.

<br />

Para simplificar, podemos usar uma analogia com o mundo real:

***Imagine a Context como uma loja que vende produtos para seus clientes.***

Com base nesta premissa, observe a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/3SsdABG.png" title="source: imgur.com" /></div>

Observando a imagem acima, podemos afirmar que:

- A **Context** √© a loja em si.
- O **Provider** √© o estoque da loja, contendo todos os produtos dispon√≠veis (estados e fun√ß√µes).
- O **Consumer** s√£o os clientes (componentes), que acessam e utilizam apenas os produtos que precisam atrav√©s do hook **`useContext`**.

Essa analogia ajuda a entender como o estado global pode ser acessado de forma seletiva por cada componente, sem a necessidade de repassar Props manualmente por toda a √°rvore de componentes.

<br />

<img src="https://i.imgur.com/H9wEgsJ.png" title="source: imgur.com" width="4%"/>**Exemplo Ilustrativo - Troca de Tema (Claro/Escuro)**

<br />

> [!WARNING]
>
> üì¢ **Alerta Importante sobre o exemplo!**
>
> Este exemplo √© **apenas ilustrativo**. **N√£o inclua estes c√≥digos em nenhum componente ou arquivo** do Projeto Blog Pessoal. O c√≥digo abaixo serve apenas para fins de estudo e compreens√£o dos conceitos apresentados.

<br />

**Contexto - TemaContext**

<div align="center"><img src="https://i.imgur.com/Cn2PNqG.png" title="source: imgur.com" /></div>

**Componente BotaoTema**

<div align="center"><img src="https://i.imgur.com/uppK15b.png" title="source: imgur.com" /></div>

**Componente App**

<div align="center"><img src="https://i.imgur.com/aBDXn1w.png" title="source: imgur.com" /></div>

No exemplo acima, criamos uma simula√ß√£o da troca de tema da aplica√ß√£o (claro e escuro).

- Foi definido um **Contexto de Tema** (`TemaContext`) e um **Provider** (`TemaProvider`), respons√°vel por armazenar o estado `tema` e a fun√ß√£o `alternarTema`.
- O componente `BotaoTema` acessa esses valores utilizando o **hook** `useContext(TemaContext)` e, ao ser clicado, alterna automaticamente entre os temas **claro** e **escuro**, alterando a estiliza√ß√£o da p√°gina.
- Como o `TemaProvider` envolve o componente principal (**App**), qualquer componente dentro dele pode consumir esse estado global, sem a necessidade de repassar valores manualmente por meio de props.

<br />

### ‚úÖ Boas pr√°ticas com Context API

1. **Use apenas quando necess√°rio**: Prefira o Context para dados realmente globais (ex.: autentica√ß√£o, tema, configura√ß√µes), evitando us√°-lo para qualquer estado simples que pode ser resolvido com props.
2. **Divida os contextos**: Em vez de um √∫nico contexto "gigante", crie contextos espec√≠ficos para cada responsabilidade (ex.: `AuthContext`, `ThemeContext`), reduzindo re-renderiza√ß√µes desnecess√°rias.
3. **Evite valores mut√°veis diretos**: Sempre que poss√≠vel, armazene no Context apenas estados imut√°veis ou fun√ß√µes para atualiza√ß√£o, reduzindo riscos de inconsist√™ncia.
4. **Cuidado com profundidade**: N√£o aninhe muitos Providers em um √∫nico ponto do c√≥digo. Se precisar, organize-os em um componente ‚ÄúProvider Wrapper‚Äù para melhorar a legibilidade.
5. **Teste com cen√°rios reais**: Verifique como as mudan√ßas no Context afetam a √°rvore de componentes, especialmente em aplica√ß√µes grandes, para evitar problemas de performance.

<br />

<div align="left"><img src="https://i.imgur.com/H9wEgsJ.png" title="source: imgur.com" width="4%"/> <a href="https://react.dev/reference/react/createContext" target="_blank"><b>Documenta√ß√£o - Context API</b></a></div>

<div align="left"><img src="https://i.imgur.com/H9wEgsJ.png" title="source: imgur.com" width="4%"/> <a href="https://react.dev/reference/react/useContext" target="_blank"><b>Documenta√ß√£o - Hook useContext</b></a></div>

<br /><br />

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>
