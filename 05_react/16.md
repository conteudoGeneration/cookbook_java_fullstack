<h1>Projeto Blog Pessoal - P√°gina de Cadastro - L√≥gica</h1>



Vamos implementar a **l√≥gica do Componente Cadastro**, cuja fun√ß√£o √© **persistir os dados de um novo usu√°rio no banco de dados**.

<br />

<h2>üë£ Passo 01 - Manter o Backend ativo no Render</h2>



No **Bloco 02**, realizamos o **deploy do backend** no Render. Quem utiliza a **conta gratuita** deve considerar uma limita√ß√£o: ap√≥s cerca de **15 minutos sem receber requisi√ß√µes**, a aplica√ß√£o √© colocada em modo de espera (sleep) para economizar recursos. Ela s√≥ volta a funcionar quando chega uma nova solicita√ß√£o.

Esse comportamento pode gerar atrasos durante o desenvolvimento, principalmente em testes repetidos, como o cadastro de usu√°rios. Para evitar isso, podemos manter a API ativa enviando requisi√ß√µes autom√°ticas e peri√≥dicas atrav√©s do **Insomnia**, simulando acessos frequentes.

<br />

‚òë **"Acordando" o deploy no Render**

1. Acesse o site do **[Render](https://render.com)**
2. Fa√ßa login com a sua conta no Render.
3. No **Dashboard do Render**, clique no Servi√ßo do Blog Pessoal:

<div align="center"><img src="https://i.imgur.com/PCJhs1n.png" title="source: imgur.com" /></div>

4. Clique no link do seu deploy, para inicializar a sua API:

<div align="center"><img src="https://i.imgur.com/6Z3nuyF.png" title="source: imgur.com" /></div>

5. Ap√≥s a API carregar, abra o **Insomnia**.
6. V√° at√© a collection **Blog Pessoal**, abra a pasta **Render (Requisi√ß√µes configuradas com o endere√ßo do Render)** e selecione a requisi√ß√£o **Autenticar Usu√°rio**.
7. Fa√ßa login com o usu√°rio padr√£o `root@root.com.br`.

<div align="center"><img src="https://i.imgur.com/xe9raTB.png" title="source: imgur.com" /></div>

8. Copie o token gerado (incluindo o prefixo `Bearer`).

<div align="center"><img src="https://i.imgur.com/KvDuwmN.png" title="source: imgur.com" /></div>

9. Na requisi√ß√£o **Listar todos os Usu√°rios**, cole o token no cabe√ßalho `Authorization`.

<div align="center"><img src="https://i.imgur.com/Q6qEAhH.png" title="source: imgur.com" /></div>

10. Envie a requisi√ß√£o e verifique se a lista de usu√°rios foi exibida corretamente.

<br />

‚òë **Configurando o envio de requisi√ß√µes autom√°ticas**

Na sequ√™ncia, vamos configurar o Insomnia para enviar esta requisi√ß√£o automaticamente a cada 300 segundos (5 minutos):

1. Na requisi√ß√£o **Listar todos os Usu√°rios**, clique na seta ao lado do bot√£o **Send**.

<div align="center"><img src="https://i.imgur.com/PfauCMU.png" title="source: imgur.com" /></div>

2. Clique nesta seta e selecione a op√ß√£o **Repeat on Interval**

<div align="center"><img src="https://i.imgur.com/zqB3MPz.png" title="source: imgur.com" /></div>

3. Na janela **Send on Interval**, informe o tempo de intervalo (**300 segundos ü°™ 5 minutos**) e clique no bot√£o **Start** para come√ßar o envio autom√°tico.

<div align="center"><img src="https://i.imgur.com/fOHQxsv.png" title="source: imgur.com" /></div>

4. Durante **1 hora** (tempo de validade do token), o Insomnia enviar√° a requisi√ß√£o automaticamente a cada 5 minutos.
5. Ap√≥s a expira√ß√£o do token:
   - Fa√ßa login novamente;
   - Atualize o token na requisi√ß√£o **Listar todos os Usu√°rios**;
   - Configure novamente o **Repeat on Interval**.

<br />

<h2>üë£ Passo 02 - Instalar a Biblioteca React Spinners</h2>



Para indicar ao usu√°rio que uma a√ß√£o est√° em andamento, como o carregamento de dados ou a resposta de uma requisi√ß√£o, utilizaremos a biblioteca **React Spinners**. Ela oferece componentes visuais de carregamento (*loaders*), que tornam a espera mais clara e menos frustrante.

> **Loader** √© um recurso visual que mostra ao usu√°rio que uma a√ß√£o est√° em andamento, como carregar dados ou processar uma requisi√ß√£o. Geralmente aparece como um √≠cone girat√≥rio, pontos pulsando ou uma barra de progresso.
>
> **Exemplos de CSS loaders:**
>
> | <img src="https://i.imgur.com/Q9SSgha.gif" title="source: imgur.com" /> | <img src="https://i.imgur.com/ACNBnkx.gif" title="source: imgur.com" /> | <img src="https://i.imgur.com/cWKUASE.gif" title="source: imgur.com" /> |
> | :----------------------------------------------------------: | :----------------------------------------------------------: | :----------------------------------------------------------: |
>

<br />

1. Abra o **Terminal** do Visual Studio Code.
2. Digite o comando abaixo para instalar a biblioteca:

```bash
npm install react-spinners --save
```

<br />

<div align="left"><img src="https://i.imgur.com/Tq3QEHB.png" title="source: imgur.com" width="4%"/> <a href="https://www.davidhu.io/react-spinners/" target="_blank"><b>React Spinners - Documenta√ß√£o Oficial</b></a></div>

<br />

<h2><img src="https://i.imgur.com/H9wEgsJ.png" title="source: imgur.com" width="4%"/>Passo 03 - Implementar a L√≥gica do Componente Cadastro</h2>



1. Abra o componente **Cadastro.tsx** localizado dentro da pasta **src/pages/cadastro**.
2. Localize o trecho de c√≥digo indicado na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/uzKn7m4.png" title="source: imgur.com" /></div>

3. No local indicado na imagem acima, insira o c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/I7bfePb.png" title="source: imgur.com" /></div>

4. N√£o esque√ßa de fazer as respectivas importa√ß√µes dos componentes e bibliotecas.

**Vamos analisar as altera√ß√µes realizadas no c√≥digo:**

<br />

‚úÖ **Importa√ß√µes**

<div align="center"><img src="https://imgur.com/3M3902A.png" title="source: imgur.com" /></div>

**Linhas 01 a 04:** Importamos os **Componentes**, **Interfaces** e **Fun√ß√µes** necess√°rias para a constru√ß√£o do **Componente Cadastro**.

<br />

> [!IMPORTANT]
>
> Os tipos `Usuario`, `ChangeEvent` e `FormEvent` s√£o usados apenas pelo **TypeScript** para dar seguran√ßa ao c√≥digo. Por isso, s√£o importados com a palavra-chave **`type`**, j√° que n√£o representam valores ou fun√ß√µes que ser√£o executados.
>

<br />

<div align="center"><img src="https://i.imgur.com/8WJYZ4W.png" title="source: imgur.com" /></div>

**Linha 08:** Criamos a constante **`navigate`**, que usa o hook **`useNavigate()`**. Com ela, conseguimos redirecionar o usu√°rio para outras p√°ginas da aplica√ß√£o sempre que necess√°rio.

<br />

> [!TIP]
>
> üëâ Em caso de d√∫vida sobre o hook **`useNavigate`**, consulte o conte√∫do sobre <a href="09.md" target="_blank">Rotas</a>.**

<br />

**Linha 10:** Criamos o estado **`isLoading`**, do tipo **boolean**, com valor inicial **`false`**, usando o hook **`useState`**.

Esse estado controla a exibi√ß√£o do **loader** (da biblioteca **React Spinners**) enquanto aguardamos a resposta do Backend no cadastro de usu√°rio:

- Quando a requisi√ß√£o est√° em andamento, `isLoading = true` ‚Üí o loader aparece.
- Quando a requisi√ß√£o termina, `isLoading = false` ‚Üí o loader desaparece.

A fun√ß√£o **`setIsLoading`** serve para atualizar o valor desse estado.

<br />

> [!TIP]
>
> **Para entender melhor o hook **`useState`**, consulte o conte√∫do sobre <a href="05.md">hooks</a>.**

<br />

**Linha 12:** Criamos o estado **`confirmarSenha`**, do tipo **string**, com valor inicial vazio.

Ele guarda o texto digitado no campo *Confirmar Senha* do formul√°rio e ser√° comparado com o campo *Senha*:

- Se forem iguais ‚Üí a requisi√ß√£o de cadastro √© enviada.
- Se forem diferentes ‚Üí aparece uma mensagem pedindo que o usu√°rio corrija as senhas.

A fun√ß√£o **`setConfirmarSenha`** √© usada para atualizar esse valor.

**Linhas 14 a 20:** Criamos o estado **`usuario`**, do tipo **`Usuario`** (interface Model), inicializando todos os atributos com valores vazios ou zero.

Esse estado guarda todas as informa√ß√µes digitadas no formul√°rio e ser√° enviado ao Backend no momento do cadastro.

A fun√ß√£o **`setUsuario`** √© usada para atualizar os valores desse estado.

<div align="center"><img src="https://i.imgur.com/VtbT4Jb.png" title="source: imgur.com" /></div>

**Linhas 23 a 27:** Usamos o **hook `useEffect`** para observar mudan√ßas no estado **`usuario`**.

- Se o **id** for **diferente de zero**, significa que o cadastro deu certo (o banco de dados retornou um ID).
- Se o **id** continuar em **zero**, o cadastro n√£o foi conclu√≠do.

Quando o cadastro √© bem-sucedido, a fun√ß√£o **`retornar()`** redireciona o usu√°rio para a p√°gina de login.

<br />

> [!TIP]
>
> **Para entender melhor o hook **`useEffect`**, consulte o conte√∫do sobre <a href="05.md">hooks</a>.**

<br />

‚úÖ **Fun√ß√£o Retornar**

**Linhas 29 a 31:** A fun√ß√£o **`retornar()`** usa o **`navigate()`** para redirecionar o usu√°rio ao **Login**. Esse redirecionamento acontece tanto ap√≥s o cadastro conclu√≠do quanto quando o usu√°rio clica em **Cancelar**, voltando para a tela inicial de login.

<div align="center"><img src="https://i.imgur.com/GP7zUbn.png" title="source: imgur.com" /></div>

<br />

‚úÖ **Fun√ß√£o Atualizar Estado Usuario**

**Linhas 32 a 38:** Criamos a fun√ß√£o **`atualizarEstado(e: ChangeEvent<HTMLInputElement>)`**, que atualiza o estado **`usuario`** conforme o usu√°rio digita nos campos do formul√°rio (exceto o campo *confirmarSenha*).

 O fluxo √© o seguinte:

1. O usu√°rio digita em um input ‚Üí o evento **onChange** √© disparado;
2. A fun√ß√£o **`atualizarEstado`** √© chamada com o evento;
3. O estado **`usuario`** √© clonado com o **Spread Operator (`...usuario`)**;
4. O campo alterado √© identificado por **`e.target.name`** e atualizado com **`e.target.value`**;
5. O React re-renderiza o componente com o valor atualizado.

<br />

> [!IMPORTANT]
>
> Para que a atualiza√ß√£o funcione corretamente, **√© essencial que os atributos `id` e `name` de cada input tenham o mesmo nome do atributo correspondente no estado `usuario`**.

<br />

**Linha 32:** A fun√ß√£o `atualizarEstado` recebe o evento do tipo **`ChangeEvent<HTMLInputElement>`**, tipagem fornecida pelo React.

> [!NOTE]
>
> O **HTMLInputElement** representa os campos de entrada (`<input>`) de um formul√°rio HTML, como texto, n√∫mero ou senha.
>
> **ChangeEvent** √© o evento disparado quando o valor do input muda. Ele permite capturar essas mudan√ßas para atualizar o **estado** do componente ou validar os dados digitados.

**Linha 33:** Chamamos a fun√ß√£o **`setUsuario`** para atualizar o estado `usuario`.

**Linha 34:** O **Spread Operator (`...usuario`)** clona o estado atual, mantendo os valores existentes.

> [!NOTE]
>
> O **Spread Operator (`...`)** √© um recurso do JavaScript que permite **expandir** arrays ou objetos de forma pr√°tica.
>
> No **Componente Cadastro**, ele √© usado para **copiar o objeto `usuario` existente** e, em seguida, aplicar somente as altera√ß√µes necess√°rias. garantindo que o estado anterior n√£o seja modificado diretamente.
>
> <br />
>
> <div align="left"><img src="https://i.imgur.com/r9lrbPG.png" title="source: imgur.com" width="4%"/> <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/Spread_syntax" target="_blank"><b>JavaScript - Operador Spread</b></a></div>
>
> <br />

**Linha 35:** O campo alterado √© identificado por **`e.target.name`** e atualizado com o valor armazenado em **`e.target.value`**.

**Onde:**

- O `e` representa o **evento** ( `onChange`).
- O `target` √© o **elemento HTML** que disparou o evento (`<input>`).
- `name` (nome do input) e `value` (valor digitado pelo usu√°rio) s√£o **propriedades do elemento** HTML.

> ‚úÖ **Exemplo pr√°tico:**
>
> Se o usu√°rio digitar no campo **nome**, um novo objeto `usuario` ser√° criado com todos os atributos iguais, mas o valor de **nome** ser√° substitu√≠do pelo novo texto digitado.

<br />

> [!NOTE]
>
> No **React**, os eventos funcionam de forma semelhante ao DOM nativo, por√©m s√£o encapsulados em **SyntheticEvents**. Esse mecanismo padroniza o comportamento dos eventos entre diferentes navegadores, evitando inconsist√™ncias e tornando o desenvolvimento mais previs√≠vel.

<br />

‚úÖ **Fun√ß√£o para Confirmar Senha**

**Linhas 40 a 42:** Criamos a fun√ß√£o **`handleConfirmarSenha(e: ChangeEvent<HTMLInputElement>)`**, que atualiza o estado **`confirmarSenha`** sempre que o usu√°rio digitar no campo de confirma√ß√£o de senha.

Essa fun√ß√£o ser√° vinculada ao evento **onChange** do input **confirmarSenha**, mantendo o valor digitado sempre atualizado no estado.

<br />

‚úÖ **Fun√ß√£o Cadastrar Usuario**

<div align="center"><img src="https://i.imgur.com/vHHUTgh.png" title="source: imgur.com" /></div>

**Linhas 44 a 64:** Criamos a fun√ß√£o **`cadastrarNovoUsuario`**, que gerencia todo o processo de cadastro de um novo usu√°rio.

- **Linha 44:** Recebe o evento `e` do tipo **`FormEvent<HTMLFormElement>`**, que representa o envio do formul√°rio. A fun√ß√£o √© **ass√≠ncrona** (`async`) porque utiliza o **Axios**, que trabalha com **Promises**.
- **Linha 45:** Usamos **`e.preventDefault()`** para evitar que a p√°gina seja recarregada, permitindo que a aplica√ß√£o React atualize apenas o que precisa na tela.
- **Linha 47:** Verificamos se `senha` e `confirmarSenha` s√£o iguais e se `senha` possuir pelo menos 8 caracteres.
- **Linha 49:** Chamamos **`setIsLoading(true)`** para exibir o **loader** no bot√£o enquanto a requisi√ß√£o est√° em andamento.
- **Linhas 51 a 56:** Usamos **try/catch** para tratar erros ao enviar a requisi√ß√£o POST para o backend:
  - **Linha 52:** Chamamos **`cadastrarUsuario`** (da Service) com a URL do endpoint (`/usuarios/cadastrar`), o estado `usuario` e a fun√ß√£o **`setUsuario`**;
  - **await** garante que o c√≥digo espere a resposta do servidor antes de prosseguir;
  - **Linha 53:** Exibimos alerta de sucesso se o cadastro for conclu√≠do;
  - **Linha 55:** Em caso de erro, exibimos alerta de falha.
- **Linhas 57 a 61:** Se a senha n√£o atender aos requisitos, executamos o **else**:
  - Exibe alerta de erro;
  - Limpa os campos **`senha`** e **`confirmarSenha`** nos respectivos estados.
- **Linha 63:** Por fim, **`setIsLoading(false)`** oculta o loader, encerrando o processo.

> [!NOTE]
>
> O **FormEvent** no **React** √© um tipo gen√©rico utilizado para representar eventos de formul√°rio. Ele √© comumente aplicado no evento **`onSubmit`**, que √© disparado quando o usu√°rio envia o formul√°rio.
>
> J√° o **HTMLFormElement** √© a interface do **DOM** que corresponde ao elemento `<form>`, permitindo acessar e manipular seus campos, propriedades e m√©todos.
>
> O evento **onSubmit** √© acionado quando o formul√°rio √© enviado, seja pelo clique no bot√£o de envio ou pela tecla **Enter** em um campo de entrada.

<br />

<h2><img src="https://i.imgur.com/H9wEgsJ.png" title="source: imgur.com" width="4%"/>Passo 04 - Integra√ß√£o da L√≥gica do Componente com o Formul√°rio</h2>



Agora que criamos a l√≥gica do componente **Cadastro**, vamos integr√°-la ao formul√°rio do componente:

<br />

‚úÖ **Importar o Loader**

Vamos importar o componente `Cliploader` da biblioteca **React Spinners**, como indicado na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/WUX5Gtd.png" title="source: imgur.com" /></div>

<br />

‚úÖ **Evento `onSubmit`**

1. Localize o trecho de c√≥digo abaixo, que inicializa o elemento `form`:

<div align="center"><img src="https://i.imgur.com/wB9JhRT.png" title="source: imgur.com" /></div>

2. Vamos adicionar o **evento `onSubmit`** para acionar a fun√ß√£o `cadastrarNovoUsuario`, conforme o c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/JIjS1KA.png" title="source: imgur.com" /></div>

**Linha 76:** Adicionamos o **evento `onSubmit`** ao formul√°rio, passando a fun√ß√£o **`cadastrarNovoUsuario`**. O fluxo √© o seguinte:

- O usu√°rio clica no bot√£o **Cadastrar** ‚Üí o evento **submit** √© disparado;
- O React controla o envio do formul√°rio, evitando recarregar a p√°gina;
- A fun√ß√£o **`cadastrarNovoUsuario`** √© executada, enviando uma **requisi√ß√£o POST** com os dados do usu√°rio;
- O backend processa a requisi√ß√£o e tenta cadastrar o novo usu√°rio na aplica√ß√£o.

<br />

‚úÖ **Input `nome`**

1. Localize o trecho de c√≥digo abaixo, que cont√©m o **`input` nome** , que receber√° o **nome do usu√°rio**, conforme indicado no c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/dr4pAb4.png" title="source: imgur.com" /></div>

2. Vamos adicionar a **propriedade `value`** ao input `nome`, associando ao atributo `nome` do estado `usuario`, e o **evento `onChange`** para disparar a fun√ß√£o `atualizarEstado`, conforme indicado no c√≥digo abaixo:

<div align="center"><img src="https://i.imgur.com/3CX2ldp.png" title="source: imgur.com" /></div>

**Linha 87:** A propriedade **`value`** garante que o valor do input `nome` esteja sempre sincronizado com o estado **`usuario.nome`**, tornando-o um **componente controlado**.

> **Componente Controlado vs N√£o Controlado**
>
> Um **componente controlado** √© aquele em que o valor de um campo de formul√°rio (como um `input`) √© totalmente gerenciado pelo React, atrav√©s do estado. Isso significa que o valor do campo √© definido pela propriedade `value` e atualizado a cada altera√ß√£o via `onChange`, garantindo que o React saiba sempre o que est√° sendo digitado. 
>
> J√° o **componente n√£o controlado** deixa o pr√≥prio DOM cuidar do valor do campo, sem que o React acompanhe cada mudan√ßa. Nesse caso, o valor √© acessado apenas quando necess√°rio. 

**Linha 88:** O **evento `onChange`** no input `nome`, com a fun√ß√£o **`atualizarEstado`**, funciona assim:

- O usu√°rio digita algo ‚Üí o evento **onChange** √© disparado;
- A fun√ß√£o **`atualizarEstado`** recebe o evento `e`;
- O valor do atributo `nome` no estado **usuario** √© atualizado com o que foi digitado;
- Os demais atributos do estado permanecem inalterados;
- O React re-renderiza o input, mantendo a propriedade **`value`** sincronizada com o estado.

> Esse fluxo garante que o input seja um **componente controlado**, mantendo consist√™ncia entre o que √© exibido e o estado da aplica√ß√£o.

A vari√°vel `e` permite identificar **qual campo do estado deve ser atualizado**, usando a propriedade **`name`** do input, que corresponde ao atributo correto no estado **usuario**.

<br />

‚úÖ **Inputs `usuario`, `foto` e `senha`**

1. Adicione o **evento `onChange`** aos inputs **`usuario`**, **`foto`** e **`senha`**, chamando a fun√ß√£o **`atualizarEstado`**, assim como foi feito no input **`nome`**.
2. Associe o **atributo `value`** de cada input √† respectiva propriedade do estado **`usuario`**. Isso garante que os campos sempre reflitam os valores armazenados no estado, mantendo os inputs como **componentes controlados**.

<div align="center"><img src="https://i.imgur.com/czpNlBm.png" title="source: imgur.com" /></div>

Dessa forma, qualquer altera√ß√£o nos inputs **`usuario`**, **`foto`** e **`senha`**, assim como no campo **`nome`**, atualiza diretamente o estado **usuario**, mantendo os valores sempre sincronizados com a interface.

<br />

> [!WARNING]
>
> √â importante que os atributos **`name`** e **`id`** de cada input tenham o **mesmo nome do atributo** correspondente no estado **usuario**.
>
> Isso permite que a fun√ß√£o **`atualizarEstado`** saiba exatamente qual campo atualizar, evitando erros e mantendo os valores do input sempre sincronizados com o estado do React.

<br />

‚úÖ **Input `confirmarSenha`**

No input **`confirmarSenha`**, adicionamos a **propriedade `value`**, vinculando-a ao estado **`confirmarSenha`**, e o **evento `onChange`** para disparar a fun√ß√£o **`setConfirmarSenha`**:

<div align="center"><img src="https://i.imgur.com/J87hZ6Q.png" title="source: imgur.com" /></div>

**Linha 135:** Atrav√©s da propriedade **`value`**, garantimos que o valor do input esteja sempre sincronizado com o estado **confirmarSenha**, tornando-o um **componente controlado**.

**Linha 136:** Ao adicionar o **evento `onChange`**, a fun√ß√£o **`setConfirmarSenha`** atualiza o estado sempre que o usu√°rio digita. O fluxo √©:

- O usu√°rio digita no campo **confirmarSenha**;
- O evento **onChange** dispara a fun√ß√£o **`setConfirmarSenha`**;
- O estado **confirmarSenha** √© atualizado com o novo valor;
- O React re-renderiza o input, mantendo a propriedade **`value`** sincronizada com o estado.

<br />

‚úÖ **Bot√£o Cancelar - Adicionar fun√ß√£o `retornar`**

No bot√£o **Cancelar**, adicionamos o **evento `onClick`** para acionar a fun√ß√£o **`retornar`**:

<div align="center"><img src="https://i.imgur.com/eGNWziW.png" title="source: imgur.com" /></div>

**Linha 143:** O bot√£o **Cancelar** √© do tipo **reset**, impedindo que o formul√°rio seja enviado, e ao clicar, a fun√ß√£o **`retornar`** √© executada. 

Essa fun√ß√£o utiliza o **hook `useNavigate`** da biblioteca **React Router** para redirecionar o usu√°rio de volta √† p√°gina de **Login**, cancelando o cadastro.

> O evento **`onClick`** √© disparado sempre que o usu√°rio clica em um elemento HTML, permitindo a√ß√µes espec√≠ficas em bot√µes, links ou outros elementos.

<br />

> [!IMPORTANT]
>
> **Diferen√ßa entre eventos `onSubmit` e `onClick`:**
>
> - **`onSubmit`**: controla o envio de formul√°rios, acionado ao clicar em um bot√£o `submit` ou pressionar **Enter**.
> - **`onClick`**: executa uma a√ß√£o sempre que qualquer elemento HTML √© clicado.
>
> üëâ **Resumindo:**
>
> - Use **`onSubmit`** para envio de formul√°rios;
> - Use **`onClick`** para a√ß√µes ao clicar em elementos.

<br />

‚úÖ **Bot√£o Cadastrar - Adicionar Loader**

No bot√£o **Cadastrar**, adicionamos o **loader**, controlado pelo estado **`isLoading`**:

<div align="center"><img src="https://i.imgur.com/SoIQWK5.png" title="source: imgur.com" /></div>

**Linhas 153 a 159:** Utilizamos uma **express√£o tern√°ria** para definir o conte√∫do do bot√£o:

- Se **`isLoading`** for `true` ‚Üí exibe o **loader `Cliploader`** da biblioteca **React Spinners**;
- Se **`isLoading`** for `false` ‚Üí exibe o texto **Cadastrar**.

Essa l√≥gica garante **feedback visual** ao usu√°rio durante o envio do formul√°rio e evita m√∫ltiplos cliques enquanto a requisi√ß√£o est√° em andamento.

No componente **`Cliploader`**, configuramos:

- **`color`**: branco, para contraste com o bot√£o;
- **`size`**: 24, tamanho proporcional ao bot√£o.

<br />

<div align="left"><img src="https://i.imgur.com/Tq3QEHB.png" title="source: imgur.com" width="4%"/> <a href="https://www.davidhu.io/react-spinners/storybook/?path=/docs/cliploader--docs" target="_blank"><b>React Spinners - Clip loader</b></a></div>

<br />

<h2><img src="https://i.imgur.com/H9wEgsJ.png" title="source: imgur.com" width="5%"/>Passo 05 - Testar o Componente Cadastro</h2>



1. Abra o Terminal do **Visual Studio Code**.
2. Execute o projeto atrav√©s do comando abaixo:

```bash
npm run dev
```

3. Pressione a combina√ß√£o de teclas **o + enter** do seu teclado para abrir o Projeto no Navegador.
4. Com o projeto aberto no seu Navegador, a P√°gina de Login ser√° exibida, como mostra a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/U1JrXfN.png" title="source: imgur.com" /></div>

5. Clique no link **Cadastre-se**, indicado na imagem abaixo, para abrir a P√°gina de Cadastro:

<div align="center"><img src="https://i.imgur.com/zckBHFJ.png" title="source: imgur.com" /></div>

6. Voc√™ ser√° redirecionado para a P√°gina de Cadastro.

<div align="center"><img src="https://i.imgur.com/E6xuD6Q.png" title="source: imgur.com" /></div>

7. Preencha os campos do formul√°rio para criar um novo Usu√°rio e na sequ√™ncia clique no bot√£o **Cadastrar**.

<div align="center"><img src="https://i.imgur.com/OPJC567.png" title="source: imgur.com" /></div>

8. Caso o Cadastro do Usu√°rio tenha sido bem sucedido, ser√° exibida a mensagem abaixo:

<div align="center"><img src="https://i.imgur.com/kHQVE3D.png" title="source: imgur.com" /></div>

9. Depois de clicar no bot√£o **OK** da mensagem acima, voc√™ ser√° redirecionado novamente para a **P√°gina de Login**.
10. Caso tenha acontecido algum erro, ser√° exibida a mensagem abaixo:

<div align="center"><img src="https://i.imgur.com/Fw1Escn.png" title="source: imgur.com" /></div>

11. Para verificar qual foi o erro que aconteceu, abra as **Ferramentas de Desenvolvimento** do seu Navegador, clique na op√ß√£o **Rede ou Network** e verifique as mensagens de erro no **Console**, como mostra a imagem abaixo:

<div align="center"><img src="https://i.imgur.com/qvSjvjh.png" title="source: imgur.com" /></div>

*No exemplo acima, observe que a requisi√ß√£o retornou um HTTP Status 400 - Bad Request, porque o atributo usuario deve ser um e-mail.*

<br />

## ‚ùåErros comuns:



- **HTTP Status 400 ‚Äì Bad Request:** Esse erro ocorre quando os dados enviados **n√£o cumprem as regras de valida√ß√£o definidas no Backend**. No Projeto Blog Pessoal, o objeto **Usu√°rio** possui as seguintes regras:

| Atributo    | Regras                                                       |
| ----------- | ------------------------------------------------------------ |
| **Nome**    | Preenchimento Obrigat√≥rio <br />N√£o pode ser vazio ou nulo   |
| **Usu√°rio** | Preenchimento Obrigat√≥rio <br />N√£o pode ser vazio ou nulo <br />Deve ser um endere√ßo de e-mail |
| **Senha**   | Preenchimento Obrigat√≥rio <br />N√£o pode ser vazio ou nulo <br />Deve ter no m√≠nimo 8 caracteres |
| **Foto**    | Deve ser um link apontando para a foto<br />O link pode ter no m√°ximo 5000 caracteres |

- **HTTP Status 500 ‚Äì Internal Server Error:** Geralmente indica um **erro interno no servidor**, que pode ocorrer, por exemplo, quando a API **ainda n√£o foi inicializada** no Render, ou devido a **erros de relacionamento entre classes**, problemas de configura√ß√£o do banco de dados, entre outros.
- **Erros do React:** Podem ocorrer durante a cria√ß√£o ou renderiza√ß√£o de componentes. Sempre verifique seu c√≥digo, incluindo **estados, props e hooks**, para garantir que estejam corretos.

<br />

<div align="left"><img src="https://i.imgur.com/H9wEgsJ.png" title="source: imgur.com" width="4%"/> <a href="https://pt-br.react.dev/reference/react-dom/components/form" target="_blank"><b>Documenta√ß√£o: Forms</b></a></div>

<div align="left"><img src="https://i.imgur.com/H9wEgsJ.png" title="source: imgur.com" width="4%"/> <a href="https://pt-br.react.dev/reference/react-dom/components/input" target="_blank"><b>Documenta√ß√£o: Change Event</b></a></div>

<div align="left"><img src="https://i.imgur.com/r9lrbPG.png" title="source: imgur.com" width="4%"/> <a href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Statements/async_function" target="_blank"><b>Documenta√ß√£o: Fun√ß√µes Ass√≠ncronas</b></a></div>

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="5%"/> <a href="https://github.com/rafaelq80/blogpessoal_react_v19/tree/09_Cadastro_Logica" target="_blank"><b>C√≥digo fonte do projeto</b></a></div>

<br /><br />

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>
