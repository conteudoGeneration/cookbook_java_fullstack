<h1>Projeto 01 - Portf√≥lio - Valida√ß√£o de Dados do Formul√°rio</h1>



A **valida√ß√£o de formul√°rios HTML** √© uma ferramenta poderosa e essencial para garantir a integridade dos dados inseridos pelos usu√°rios em formul√°rios web. Entre os principais **benef√≠cios** podemos destacar:

1. **Integridade dos Dados**: A valida√ß√£o assegura que os dados enviados sejam corretos e estejam no formato esperado, evitando erros e inconsist√™ncias, al√©m de melhorar a qualidade das informa√ß√µes coletadas.

2. **Experi√™ncia do Usu√°rio Aprimorada**: A valida√ß√£o fornece Feedback imediato, atrav√©s de mensagens de erro instant√¢neas, orientando os usu√°rios sobre campos preenchidos incorretamente. Al√©m disso, melhora a usabilidade e evita frustra√ß√µes, tornando a intera√ß√£o mais suave.

3. **Redu√ß√£o de Requisi√ß√µes Desnecess√°rias**: Validar os dados no Frontend evita o envio de dados inv√°lidos ao servidor, economizando recursos do servidor e melhorando a efici√™ncia do sistema.

4. **Seguran√ßa**: A valida√ß√£o evita que dados maliciosos, como *SQL Injection* ou *Cross-Site Scripting*, sejam processados pelo servidor.

<br />

<h2>1. Tipos de Valida√ß√£o</h2>



Voc√™ pode efetuar diversos tipos de valida√ß√µes em formul√°rios HTML, entre elas, destacamos:

   - **Presen√ßa de Dados**: Garante que campos obrigat√≥rios sejam preenchidos.
   - **Tipo de Dado**: Verifica se o valor corresponde ao tipo esperado (texto, n√∫mero, entre outros).
   - **Formato (Express√µes Regulares)**: Valida√ß√£o de campos com formatos espec√≠ficos como e-mails, telefones, CEP, CPF, entre outros.
   - **Unicidade**: Verifica se o valor j√° existe na base de dados.
   - **Consist√™ncia entre Dados Relacionados**: Definir um intervalo de datas (data de inicial e data final).
   - **Complexidade de Dados**: Senhas que atendam a requisitos m√≠nimos de seguran√ßa (m√≠nimo de 8 caracteres, pelo menos uma letra mai√∫scula, um n√∫mero e um caractere especial).

<br />

<h2>2. Como realizar a valida√ß√£o de um formul√°rio utilizando JavaScript?</h2>



Quando implementamos a valida√ß√£o de formul√°rio, temos que levar em considera√ß√£o algumas quest√µes:

1. **O que √© um dado v√°lido?** Essa pergunta nos ajuda a identificar o formato, o tamanho, a obrigatoriedade e o tipo de dado.
2. **O que acontece se o usu√°rio informar dados inv√°lidos?** Essa quest√£o nos ajuda a definir o comportamento da valida√ß√£o ‚Äì se mostramos uma mensagem de erro no topo ou no rodap√© do formul√°rio, o n√≠vel de detalhamento que deve ter a mensagem de erro, se o formul√°rio pode ser enviado mesmo assim, se devemos registrar o envio de dado inv√°lido, entre outros. 

Ap√≥s responder estas perguntas, o pr√≥ximo passos s√£o os seguintes:

- Selecionar os campos do formul√°rio HTML, atrav√©s das fun√ß√µes seletoras do JavaScript;
- Criar as fun√ß√µes de valida√ß√£o atrav√©s da Linguagem JavaScript;
- Aplicar as fun√ß√µes nos respectivos campos do formul√°rio, atrav√©s dos eventos;
- Exibir no formul√°rio as mensagens de erro nos respectivos elementos `<span>` de cada campo, atrav√©s das fun√ß√µes modificadoras do JavaScript.

Vamos ao c√≥digo!

<br />

<h2>üë£ Passo 01 - Criar a pasta js</h2>



Antes de criar o nosso script JavaScript, vamos adicionar a pasta **js** dentro da pasta **assets**, onde armazenaremos os scripts JavaScript do nosso Website:

1. Na **Barra Explorer**, selecione a pasta **assets** e clique no bot√£o **New Folder** (Nova Pasta), indicado na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/1uWCOUM.png" title="source: imgur.com" /></div>

2. O nome da pasta ser√° **js**, como mostra a imagem abaixo. Ap√≥s digitar o nome da pasta, pressione a tecla **enter** do seu teclado para concluir.

<div align="center"><img src="https://i.imgur.com/DTWceEY.png" title="source: imgur.com" /></div>

Na sequ√™ncia, vamos criar o arquivo **script.js**:

<br />

<h2>üë£ Passo 02 - Criar o arquivo script.js</h2>



Vamos criar o arquivo **script.js**, dentro da nossa pasta **js**:

1. Na **Barra Explorer**, selecione a pasta **js** e clique no bot√£o **New File** (Novo Arquivo), indicado na imagem abaixo:  

<div align="center"><img src="https://i.imgur.com/IYqqdBb.png" title="source: imgur.com" /></div>

2. O nome do arquivo ser√° **script.js**, como mostra a figura abaixo. Ap√≥s digitar o nome do arquivo, pressione a tecla **enter** do seu teclado para concluir. 

<div align="center"><img src="https://i.imgur.com/KLTy25m.png" title="source: imgur.com" /></div>

<br />

<h2>üë£ Passo 03 - Inserir o arquivo script.js na p√°gina index</h2>



1. Abra a p√°gina **contato.html**
2. Depois da Se√ß√£o `<footer>`, insira o c√≥digo abaixo:

```html
<!-- Script JavaScript-->
<script src="assets/js/script.js"></script>
```

3. Veja na imagem abaixo:

<div align="center"><img src="https://i.imgur.com/l6KI1IH.png" title="source: imgur.com" /></div>

<br />

> [!IMPORTANT]
>
> **O Script JavaScript deve ser inserido exatamente no local indicado na imagem acima, caso contr√°rio ele n√£o funcionar√°.**

<br />

<h2>üë£ Passo 04 - Inserir o c√≥digo no arquivo script.js</h2>



1. Adicione o c√≥digo abaixo no arquivo **script.js**:

```js
const emailRegex = /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/;

formulario.addEventListener('submit', function(event) {
  
    event.preventDefault();
  
    const campoNome = document.querySelector('#name');
    const txtNome = document.querySelector('#txtNome');
  
    if (campoNome.value.length < 3) {
      txtNome.innerHTML = 'O Nome deve ter no minimo 3 caracteres.';
      campoNome.focus();
      return;
    }else{
      txtNome.innerHTML = '';
    }
  
    const campoEmail = document.querySelector('#email');
    const txtEmail = document.querySelector('#txtEmail');
  
    if (!campoEmail.value.match(emailRegex)) {
      txtEmail.innerHTML = 'Digite um E-mail v√°lido.';
      campoEmail.focus();
      return;
    }else{
      txtEmail.innerHTML = '';
    }
  
    const campoSubject = document.querySelector('#subject');
    const txtSubject = document.querySelector('#txtSubject');
  
    if (campoSubject.value.length < 5) {
      txtSubject.innerHTML = 'O Assunto deve ter no minimo 5 caracteres.';
      campoSubject.focus();
      return;
    }else{
      txtSubject.innerHTML = '';
    }

    const campoMessage = document.querySelector('#message');

    window.alert("Formul√°rio Enviado com Sucesso!");
  
    campoNome.value = ''
    campoEmail.value = ''
    campoSubject.value = ''
    campoMessage.value = ''

  });
```

Vamos entender o c√≥digo adicionado:

<div align="center"><img src="https://i.imgur.com/EWQ9XpY.png" title="source: imgur.com" /></div>

**Linha 01:** Cria a constante **emailRegex**, atribuindo uma **Express√£o Regular**, que ser√° utilizada para validar o endere√ßo do e-mail informado no campo email do formul√°rio. Observe que a **Express√£o Regular n√£o deve ser inserida entre aspas**, caso contr√°rio a valida√ß√£o n√£o ser√° efetuada.

> **Express√µes Regulares** 
>
> Express√µes Regulares (ou **regex**), s√£o padr√µes utilizados para selecionar combina√ß√µes espec√≠ficas de caracteres em uma string. No JavaScript, express√µes regulares s√£o objetos que permitem buscar e manipular texto com base nesses padr√µes pr√© estabelecidos.
>
> As express√µes regulares podem ser utilizadas em diversas tarefas. Na Linguagem JavaScript elas s√£o mkuito utilizadas para:
>
> - **Valida√ß√£o de Dados**: As regex s√£o essenciais para validar formatos espec√≠ficos, como e-mail, telefone, CEP, CPF, entre outros.
> - **Busca e Substitui√ß√£o**: Permitem encontrar e substituir partes de texto dentro de uma string.
> - **Processamento de Dados**: √öteis para filtrar informa√ß√µes relevantes.
>
> Na lista abaixo, vemos alguns exemplos de Express√µes Regulares para Valida√ß√£o de Formul√°rios no JavaScript, seguindo os padr√µes do Brasil:
>
> #### CPF
>
> Valida tanto `123.456.789-00` quanto `12345678900`
>
> N√£o valida o algoritmo, s√≥ o formato
>
> ```js
> /(^\d{3}\.\d{3}\.\d{3}\-\d{2}$)/
> ```
>
> #### CNPJ
>
> Valida tanto `12.345.678/0001-00` quanto `12345678000100`
>
> N√£o valida o algoritmo, s√≥ o formato
>
> ```js
> /(^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$)/
> ```
>
> #### CPF ou CNPJ
>
> Muito √∫til quando voc√™ s√≥ precisa de um dos 2 documentos v√°lido
>
> ```js
> /(^\d{3}\.\d{3}\.\d{3}\-\d{2}$)|(^\d{2}\.\d{3}\.\d{3}\/\d{4}\-\d{2}$)/
> ```
>
> #### RG
>
> Valida qualquer RG, inclu√≠ndo finais com o d√≠gito X
>
> ```js
> /(^\d{1,2}).?(\d{3}).?(\d{3})-?(\d{1}|X|x$)/
> ```
>
> #### Telefone
>
> Valida qualquer telefone ou celular, com ou sem DDD. O tra√ßo √© opcional.
>
> ```js
> /(^[0-9]{2})?(\s|-)?(9?[0-9]{4})-?([0-9]{4}$)/
> ```
>
> #### CEP
>
> Valida qualquer CEP com o tra√ßo sendo opcional.
>
> ```js
> /(^[0-9]{5})-?([0-9]{3}$)/
> ```
>
> #### E-mail 
>
> ```js
> /^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/
> ```
>
> #### Endere√ßos WEB
>
> Qualquer url http, https, ftp v√°lida
>
> ```js
> /^(((https?|ftp):\/\/)?([\w\-\.])+(\.)([\w]){2,4}([\w\/+=%&_\.~?\-]*))*$/
> ```
>
> #### Senha
>
> Senha de no m√≠nimo 6 caracteres, pelo menos uma letra mai√∫scula, pelo menos uma letra min√∫scula, pelo menos um n√∫mero, pelo menos um  caractere especial
>
> ```js
> /(?=^.{6,}$)((?=.*\w)(?=.*[A-Z])(?=.*[a-z])(?=.*[0-9])(?=.*[|!"$%&\/\(\)\?\^\'\\\+\-\*]))^.*/
> ```
>
> *A Express√£o Regular para valida√ß√£o de senha, segue o padr√£o: m√≠nimo 8 caracteres, pelo menos uma letra mai√∫scula, pelo  menos uma letra min√∫scula, pelo menos um n√∫mero, pelo menos um caractere especial.*
>
> <br />
>
> <div align="left"><img src="https://i.imgur.com/n6JxSHg.png" title="source: imgur.com" width="5%"/> <a href="https://aurelio.net/regex/guia/" target="_blank"><b>Guia das Express√µes Regulares</b></a></div>
>
> <div align="left"><img src="https://i.imgur.com/r9lrbPG.png" title="source: imgur.com" width="4%"/> <a href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Guide/Regular_expressions" target="_blank"><b>Documenta√ß√£o: Express√µes Regulares no JavaScript</b></a></div>
>
> <br />

**Linha 03:** Adicionamos um **ouvidor de eventos** ao formul√°rio, que ser√° acionado sempre que o formul√°rio for enviado (quando o usu√°rio clica no bot√£o "Enviar"), atrav√©s do evento **submit**. A fun√ß√£o passada como argumento (`function(event)`), ser√° executada quando o evento de envio ocorrer.

**Linha 05:** A instru√ß√£o `event.preventDefault()` previne o comportamento padr√£o do formul√°rio, que seria recarregar a p√°gina ap√≥s o envio. Em vez disso, a fun√ß√£o de envio personalizada ser√° executada, validando os campos do formul√°rio.

**Linha 07:** Cria a constante **campoNome**, que receber√° o campo cujo id seja igual a **name**, ou seja, o input name.

**Linha 08:** Cria a constante **txtNome**, que receber√° o campo cujo id seja igual a **txtNome**, ou seja, o span txtNome, que ser√° utilizado para exibir as mensagens de erro relacionadas ao campo name.

**Linhas 10 a 16:** Far√° a valida√ß√£o do campo **name**:

- Se o valor do campo name tiver menos de 3 caracteres (linha 10):
  - Define o texto de erro no elemento `txtNome` (linha 11).
  - D√° foco ao campo name, atrav√©s da fun√ß√£o `focus()`, para que o usu√°rio possa corrigir o valor digitado (linha 12).
  - Executa o comando **return**, impedindo que o formul√°rio seja enviado (linha 13).
- Caso Contr√°rio, Define o texto do elemento `txtNome` como vazio (linha 15), indicando que a valida√ß√£o do campo name foi conclu√≠da sem erros.

> A fun√ß√£o **focus()** √© usada para dar foco a um elemento HTML, como um campo de entrada, bot√£o ou link. Quando chamada em um elemento, ela o torna o elemento ativo no momento, geralmente destacando-o ou preparando-o para intera√ß√£o do usu√°rio¬π. Veja como funciona:
>
> **Sintaxe**:
>
> ```javascript
> elementoHTML.focus();
> ```
>
> Quando voc√™ executa a fun√ß√£o `focus()` em um elemento (por exemplo, em um campo input), ele se torna o elemento atualmente ativo, ou seja, o elemento recebe eventos de teclado (como digita√ß√£o) e outras intera√ß√µes relacionadas.
>
> <br />
>
> <div align="left"><img src="https://i.imgur.com/r9lrbPG.png" title="source: imgur.com" width="4%"/> <a href="https://developer.mozilla.org/en-US/docs/Web/API/HTMLElement/focus" target="_blank"><b>Documenta√ß√£o: Fun√ß√£o Focus()</b></a></div>
>
> <br />

**Linha 18:** Cria a constante **campoEmail**, que receber√° o campo cujo id seja igual a **email**, ou seja, o input email.

**Linha 19:** Cria a constante **txtEmail**, que receber√° o campo cujo id seja igual a **txtEmail**, ou seja, o span txtEmail, que ser√° utilizado para exibir as mensagens de erro relacionadas ao campo email.

**Linhas 21 a 27:** Far√° a valida√ß√£o do campo **email**:

- Se o valor do campo email n√£o corresponde ao padr√£o de e-mail v√°lido, estabelecido pela Express√£o Regular **emailRegex** (linha 21):
  - Define o texto de erro no elemento `txtEmail` (linha 22).
  - D√° foco ao campo email, atrav√©s da fun√ß√£o `focus()`, para que o usu√°rio possa corrigir o valor digitado (linha 23).
  - Executa o comando **return**, impedindo que o formul√°rio seja enviado (linha 24).
- Caso Contr√°rio, Define o texto do elemento `txtNome` como vazio (linha 26), indicando que a valida√ß√£o do campo email foi conclu√≠da sem erros.

>A fun√ß√£o **match()** √© usada para pesquisar uma string em busca de correspond√™ncias com uma Express√£o Regular. Se a correspond√™ncia for encontrada, ele retornar√° uma matriz que cont√©m as correspond√™ncias de um item para cada correspond√™ncia. Caso a correspond√™ncia n√£o seja encontrada, ele retornar√° nulo (null). 
>
>**Sintaxe:**
>
>```js
>const result = string.match(regexp);
>```
>
><br />
>
><div align="left"><img src="https://i.imgur.com/r9lrbPG.png" title="source: imgur.com" width="4%"/> <a href="https://developer.mozilla.org/pt-BR/docs/Web/JavaScript/Reference/Global_Objects/String/match" target="_blank"><b>Documenta√ß√£o: Fun√ß√£o Match()</b></a></div>
>
><br />

**Linha 29:** Cria a constante **campoSubject**, que receber√° o campo cujo id seja igual a **subject**, ou seja, o input subject.

**Linha 30:** Cria a constante **txtSubject**, que receber√° o campo cujo id seja igual a **txtSubject**, ou seja, o span txtSubject, que ser√° utilizado para exibir as mensagens de erro relacionadas ao campo subject.

**Linhas 32 a 38:** Far√° a valida√ß√£o do campo **subject**:

- Se o valor do campo subject tiver menos de 5 caracteres (linha 32):
  - Define o texto de erro no elemento `txtSubject` (linha 33).
  - D√° foco ao campo subject, atrav√©s da fun√ß√£o `focus()`, para que o usu√°rio possa corrigir o valor digitado (linha 34).
  - Executa o comando **return**, impedindo que o formul√°rio seja enviado (linha 35).
- Caso Contr√°rio, Define o texto do elemento `txtSubject` como vazio (linha 37), indicando que a valida√ß√£o do campo subject foi conclu√≠da sem erros.

**Linha 40:** Cria a constante **campoMessage**, que receber√° o campo cujo id seja igual a **message**, ou seja, o text area message.

**Linha 42:** Se todas as valida√ß√µes passarem, o formul√°rio ser√° enviado e atrav√©s da fun√ß√£o `window.alert()` ser√° exibida uma mensagem de confirma√ß√£o.

**Linhas 44 a 47:** Limpa todos os inputs e o text area do formul√°rio, ap√≥s o envio bem sucedido.

Em resumo, o c√≥digo acima valida os campos de nome, e-mail e assunto, antes de permitir o envio do formul√°rio. Se algum campo n√£o atender aos crit√©rios pr√© estabelecidos, uma mensagem de erro ser√° exibida no elemento `<span>` adicionado logo abaixo de cada campo do formul√°rio e o envio do formul√°rio ser√° bloqueado.

<br />

<div align="left"><img src="https://i.imgur.com/r9lrbPG.png" title="source: imgur.com" width="4%"/> <a href="https://www.w3schools.com/jsref/jsref_return.asp" target="_blank"><b>Documenta√ß√£o: Declara√ß√£o Return</b></a></div>

<div align="left"><img src="https://i.imgur.com/r9lrbPG.png" title="source: imgur.com" width="4%"/> <a href="https://www.w3schools.com/jsref/met_form_submit.asp" target="_blank"><b>Documenta√ß√£o: Fun√ß√£o Submit()</b></a></div>

<br />

<h2>üë£ Passo 04 - Testar o Formul√°rio</h2>



1. Abra a p√°gina contato.html no Navegador, atrav√©s do **Live Server**:

<div align="center"><img src="https://i.imgur.com/GYQ9EfY.png" title="source: imgur.com" /></div>

2. Preencha o Formul√°rio com dados inv√°lidos e clique no bot√£o **Enviar**:

<div align="center"><img src="https://i.imgur.com/diOAyEL.png" title="source: imgur.com" /></div>

3. Observe que ser√° exibida a Mensagem de Erro de Valida√ß√£o do Campo Nome:

<div align="center"><img src="https://i.imgur.com/eZTTc7W.png" title="source: imgur.com" /></div>

4. Ap√≥s corrigir o nome, ao clicar no bot√£o **Enviar**, ser√° exibida a Mensagem de Erro de Valida√ß√£o do Campo E-mail.
4. O formul√°rio ser√° enviado somente depois de todos os campos passarem pela valida√ß√£o, exibindo a mensagem de confirma√ß√£o abaixo:

<div align="center"><img src="https://i.imgur.com/zUnxS31.png" title="source: imgur.com" /></div>

6. Ap√≥s o envio bem sucedido todos os campos ser√£o limpos:

<div align="center"><img src="https://i.imgur.com/gaA1vE0.png" title="source: imgur.com" /></div>

<br />

<h2>3. Boas pr√°ticas de valida√ß√£o</h2>



1. Sempre utilize valida√ß√£o dupla, ou seja, valide tanto no lado do cliente, quanto no lado do servidor, pois a valida√ß√£o no lado do cliente pode ser manipulada.
2. Informe as mensagens de erro juntamente com o campo que causou o erro de valida√ß√£o.
3. Na mensagem que informa o erro, forne√ßa exemplos de que dado deve ser usado. Por exemplo, "Endere√ßo de e-mail inv√°lido - formato: teste@exemplo.com".
4. Evite usar p√°ginas de erro que envolvam redirecionamento. Isso torna a experi√™ncia ruim para o usu√°rio e o for√ßa a voltar para uma p√°gina anterior para corrigir o formul√°rio, perdendo assim os dados preenchidos.
5. Sempre indique quais s√£o os campos obrigat√≥rios, com um asterisco ao lado, por exemplo.

<br />

<div align="left"><img src="https://i.imgur.com/JACNZiR.png" title="source: imgur.com" width="5%"/> <a href="https://github.com/rafaelq80/portfolio_fundamentos_web/tree/03_JS" target="_blank"><b>C√≥digo fonte do projeto - JS</b></a></div>

<br /><br />

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div> 
