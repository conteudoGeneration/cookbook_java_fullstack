<h1>Introdu√ß√£o ao Node.js</h1>



Antes de escrevermos os nossos c√≥digos JavaScript, precisamos conhecer e entender como funciona o **Node.js**, que foi definido anteriormente como um ***"ambiente de execu√ß√£o server side do JavaScript"***. Mas o que isso significa na pr√°tica?

Para compreendermos este conceito, precisamos relembrar como o JavaScript funciona e analisarmos os seus tr√™s componentes principais, que desempenham um papel significativo no JavaScript:

1. A Linguagem JavaScript.
2. O Mecanismo JavaScript.
3. O Runtime JavaScript.

<br />

| <img src="https://i.imgur.com/hOgWvSc.png" title="source: imgur.com" width="80px"/> | <div align="left"> **ATEN√á√ÉO:** *N√£o confunda o Node.js, ambiente de execu√ß√£o server side do JavaScript, com o Framework para Desenvolvimento Backend Node Express. O Node.js n√£o fornece estrutura MVC, roteamento ou camada de controle ‚Äì isso n√£o √© papel do Node.js.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

<h2>1. A Linguagem JavaScript</h2>



Originalmente, as pessoas desenvolvedoras usavam a Linguagem JavaScript apenas para manipular p√°ginas da WEB. Esta incapacidade de usar o JavaScript fora do navegador n√£o √© e nunca foi uma limita√ß√£o do JavaScript em si, mas uma restri√ß√£o em rela√ß√£o aonde o c√≥digo JavaScript estava sendo executado, ou seja, apenas no navegador WEB. A partir de 2008 come√ßaram a surgir novas plataformas, que permitiam executar o JavaScript fora do navegador WEB, entre elas, surgiu o Node.js em 2009.

<br />

<h2>2. O Mecanismo JavaScript</h2>



O **Mecanismo JavaScript (JavaScript Engine)** √© o programa respons√°vel por **executar o c√≥digo JavaScript**. No universo da programa√ß√£o, existem linguagens **compiladas** e linguagens **interpretadas**.

Uma linguagem compilada pode ser comparada a uma refei√ß√£o j√° preparada: todos os ingredientes s√£o organizados, verificados e transformados previamente em algo pronto para ser utilizado.

J√° uma linguagem interpretada se assemelha a um chef preparando o prato em tempo real. O c√≥digo √© lido e executado passo a passo, permitindo ajustes durante a execu√ß√£o.

Nesse contexto, o **Mecanismo JavaScript** atua como esse chef, interpretando e executando o c√≥digo, transformando instru√ß√µes escritas em JavaScript em a√ß√µes vis√≠veis na tela do computador.

Durante esse processo, o mecanismo segue um conjunto de regras bem definidas para garantir consist√™ncia e previsibilidade. Essas regras s√£o estabelecidas pelo padr√£o **ECMAScript**, que define a sintaxe e o comportamento da linguagem JavaScript.

No entanto, grande parte do c√≥digo utilizado no dia a dia por pessoas desenvolvedoras JavaScript **n√£o est√° descrita na especifica√ß√£o do ECMAScript**. Um exemplo claro √© a manipula√ß√£o do **DOM (Document Object Model)**.

O DOM n√£o faz parte da linguagem JavaScript em si, mas do ambiente onde ela √© executada, como os navegadores. Por esse motivo, as regras de intera√ß√£o com o DOM n√£o est√£o no **ECMAScript**, e sim no chamado **Runtime JavaScript**, que fornece APIs e funcionalidades adicionais ao ambiente de execu√ß√£o.

Por isso, o mesmo c√≥digo JavaScript pode se comportar de maneira diferente dependendo do Runtime, pois cada ambiente fornece API's distintas.

<br />

<h2>3. O Runtime JavaScript</h2>



O **Runtime JavaScript** √© um lugar ou ambiente onde o c√≥digo √© executado. N√£o √© o programa que executa o c√≥digo em si (**Mecanismo JavaScript**), mas sim o ambiente que fornece acesso a certas partes do mundo exterior.

Imagine que o seu c√≥digo √© uma pessoa dentro de uma casa. Diferentes salas ter√£o janelas diferentes que permitem que essa pessoa veja diferentes partes do que est√° fora. O exterior n√£o muda, mas a sala em que a pessoa est√° determinar√° o que pode ver. Esta √© a ess√™ncia do que √© um Runtime JavaScript de execu√ß√£o do JavaScript. √â como uma sala onde voc√™ pode colocar seu c√≥digo. E assim como a pessoa dentro da casa, o quarto em que seu c√≥digo est√°  determinar√° quais partes do mundo exterior ele ter√° acesso.

O Runtime mais comum do JavaScript, especialmente no contexto Frontend, √© o navegador WEB e nele as partes do mundo exterior permite que voc√™ interaja com o objeto Janela do Navegador e, posteriormente, o objeto P√°gina WEB, ou o DOM.

Esses objetos s√£o cr√≠ticos para pessoas desenvolvedoras WEB porque fornecem as APIs necess√°rias que permitem que o seu JavaScript interaja com as p√°ginas da web, adicionando uma div, atualizando algum texto HTML interno ou "ouvindo" os eventos baseados em janelas, gra√ßas √† API da Web fornecida pelo Runtime JavaScript do navegador.

<br />

| <img src="https://i.imgur.com/hOgWvSc.png" title="source: imgur.com" width="80px"/> | <div align="left"> **ATEN√á√ÉO:** *N√£o se preocupe com os conceitos da cria√ß√£o de P√°ginas WEB com JavaScript neste momento. Quando iniciarmos o estudo do Frontend, veremos todos estes conceitos com mais detalhes.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

<h2>4. O que √© o Node.js?</h2>



O **Node.js √© um Runtime de execu√ß√£o JavaScript**. N√£o √© uma Linguagem ou um Framework. √â  simplesmente um ambiente que permite escrever e executar c√≥digo JavaScript que interage com diferentes partes do mundo exterior que n√£o seja o navegador WEB. Em vez de fornecer recursos de intera√ß√£o com o navegador e a p√°gina WEB, como a WEB API, o Node.js fornece APIs que permitem interagir com o sistema de arquivos do Servidor, o protocolo HTTP, os recursos do Sistema Operacional, entre outros.

<div align="center"><img src="https://i.imgur.com/c1M6wnx.png" title="source: imgur.com" /></div>

**O Node.js √© um ambiente de execu√ß√£o do c√≥digo JavaScript do lado servidor** (*server side*), que na pr√°tica se reflete na possibilidade de criar aplica√ß√µes JavaScript *standalone* (autossuficientes) em uma m√°quina servidora, sem a necessidade do Navegador WEB, permitindo o desenvolvimento de aplica√ß√µes Backend, por exemplo.

**Para quem trabalha com Frontend**, o Node.js √© essencial principalmente para:

- Executar ferramentas de build (Vite, Webpack, Babel)
- Gerenciar depend√™ncias com NPM
- Rodar servidores de desenvolvimento
- Trabalhar com bibliotecas e frameworks modernos como React, Angular e Next.js

<br />

<div align="left"><img src="https://i.imgur.com/b6QvXn6.png" title="source: imgur.com" width="5%"/><a href="https://nodejs.org/en" target="_blank"><b> Site Oficial do Node.js</b></a></div>

<div align="left"><img src="https://i.imgur.com/b6QvXn6.png" title="source: imgur.com" width="5%"/> <a href="https://nodejs.org/dist/latest-v18.x/docs/api/" target="_blank"><b>Documenta√ß√£o: Node.js</b></a></div>

<br />

<h2>5. Arquitetura do Node.js</h2>



Na imagem abaixo, vemos uma representa√ß√£o gr√°fica da **Arquitetura do Node.js**:

<div align="center"><img src="https://i.imgur.com/VMuQTc2.png" title="source: imgur.com" /></div>

<br />

<h3>5.1. Node Runtime Components</h3>



√â o **Runtime JavaScript** propriamente dito. Quando executamos um c√≥digo JavaScript, o Node.js utiliza o V8, engine (motor) JavaScript do Google Chrome, que compila c√≥digo JavaScript para linguagem de m√°quina por meio de t√©cnicas como Just-in-Time (JIT) compilation.

<br />

<h3>5.1.1. Suporte a ES Modules no Node.js</h3>



O Node.js, por padr√£o, utilizava o sistema de m√≥dulos **CommonJS** (com `require` e `module.exports`). No entanto, a partir da vers√£o 12 (com suporte est√°vel na v14+), o Node.js passou a oferecer suporte nativo aos **ES Modules** (***ECMAScript Modules***), utilizando a sintaxe moderna de `import` e `export`.

Para utilizar ES Modules, basta definir a propriedade `"type": "module"` no arquivo `package.json`. Atualmente, **a maioria das bibliotecas e frameworks modernos em Node.js** (como **Next.js**, **NestJS**, **Vite**, entre outros) j√° vem **configurada com suporte a ES Modules** (`import`/`export`) por padr√£o.

**Exemplo com ES Modules:**

```js
// arquivo.mjs ou com "type": "module"
import fs from 'fs';

export function exemplo() {
  console.log('ES Modules em a√ß√£o!');
}
```

Os ES Modules promovem compatibilidade com o padr√£o ECMAScript e s√£o recomendados para novos projetos, especialmente quando combinados com ferramentas modernas como Babel ou TypeScript.

<br />

<h3>5.2. M√≥dulos de terceiros</h3>



O Node.js tem um conjunto de m√≥dulos internos que voc√™ pode usar sem qualquer instala√ß√£o adicional, bem como muitos outros m√≥dulos, desenvolvidos por empresas ou outras pessoas desenvolvedoras, que podem ser instalados atrav√©s do gerenciador de pacotes do Node (o NPM √© o Gerenciador padr√£o). Os aplicativos escritos em JavaScript podem acessar esses m√≥dulos usando fun√ß√µes JavaScript e m√©todos de classe, dependendo do m√≥dulo. Os M√≥dulos permitem adicionar funcionalidades adicionais aos c√≥digos JavaScript, que n√£o s√£o nativas da linguagem.

<br />

<h3>5.3. Node CLI</h3>



Quando iniciamos o Node.js, iniciamos um processo que engloba um **Interpretador** JavaScript e um utilit√°rio **CLI (command-line interface)**, e √© neste processo aberto no terminal que ir√° acontecer a interpreta√ß√£o e execu√ß√£o do *JavaScript Runtime*.

O **Node CLI** nos permite executar os comandos necess√°rios para interagir com o Node, como por exemplo executar o c√≥digo JavaScript, instalar, desinstalar e atualizar M√≥dulos, Bibliotecas e Ferramentas, entre outras tarefas.

O principal comando do Node CLI √© o **node**. Este comando √© utilizado para executar um c√≥digo JavaScript atrav√©s do terminal.

**Exemplo:**

```bash
node Teste.js
```

<br />

<h3>5.4. NPM</h3>



O **NPM** (**Node Package Manager**) √© o Gerenciador de Pacotes padr√£o do Node.js. O Gerenciador de Pacotes √© automaticamente instalado na sua m√°quina durante a instala√ß√£o do Node.js e √© muito √∫til no Desenvolvimento de aplica√ß√µes JavaScript com o Node. Para interagir com o NPM, utilizamos o **NPM CLI**, uma ferramenta de linha de comando (pode ser executada dentro do prompt de comando do Windows, Power Shell, Git Bash e etc), que com alguns comandos simples √© poss√≠vel pesquisar, instalar, atualizar e remover pacotes do Node.  

<br />

<div align="left"><img src="https://i.imgur.com/YMnUmlk.png" title="source: imgur.com" width="4%"/><a href="https://www.npmjs.com/" target="_blank"><b> Site Oficial do NPM</b></a></div>

<div align="left"><img src="https://i.imgur.com/YMnUmlk.png" title="source: imgur.com" width="4%"/><a href="https://docs.npmjs.com/" target="_blank"><b>Documenta√ß√£o: NPM</b></a></div>

<br />

Por anos, o Node tem sido amplamente usado por pessoas desenvolvedoras para compartilhar ferramentas, instalar v√°rios m√≥dulos e gerenciar suas depend√™ncias JavaScript/TypeScript. Sabendo disso, √© realmente importante para pessoas que trabalham com Node.js entenderem minimamente o que √© o npm. 

Todas as ferramentas e bibliotecas utilizadas nos projetos JavaScript est√£o dispon√≠veis no servidor do NPM, que funciona como um reposit√≥rio de pacotes Node. Este reposit√≥rio facilita e centraliza o download de todos os pacotes, independente de serem as oficiais do Node ou Desenvolvidos por outras empresas ou pessoas desenvolvedoras, dispensando a necessidade de procurar os pacotes no Google, por exemplo. Na imagem abaixo, vemos a p√°gina inicial do NPM:

<br />

<div align="center"><img src="https://i.imgur.com/8xAtyxQ.png?1" title="source: imgur.com" /></div>

<br />

| <img src="https://i.imgur.com/hOgWvSc.png" title="source: imgur.com" width="150px"/> | <div align="left"> **ATEN√á√ÉO:** *O NPMCLI √© uma Ferramenta de Linha de comando (instalada pelo Node no seu computador), que ajuda a interagir com o Reposit√≥rio de Pacotes do Node.js, hospedados no NPM.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

 <br />

| <img src="https://i.imgur.com/RfjtOFi.png" title="source: imgur.com" width="100px"/> | <div align="left">**DICA:** *Al√©m do NPM, existem outros Gerenciadores de Pacotes para projetos Node. Entre eles podemos citar o <a href="https://classic.yarnpkg.com/en/" target="_blank">Yarn</a> e o <a href="https://pnpm.io/pt/" target="_blank">PNPM</a>.</div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

<h4>5.4.1. Principais comandos do NPM</h4>



Na tabela abaixo, temos a lista dos principais comandos do NPM, mais utilizados no dia a dia:

| Comando             | Descri√ß√£o                                                    | Sintaxe                |
| ------------------- | ------------------------------------------------------------ | ---------------------- |
| **npm help**        | Exibe o manual de um comando espec√≠fico.                     | `npm help <comando>`   |
| **npm install**     | Instala um ou mais M√≥dulos (pacotes) na aplica√ß√£o.<br />Caso n√£o seja informado o nome do pacote, o comando verificar√° a exist√™ncia do arquivo **package.json** e far√° a instala√ß√£o de todos os pacotes listados no arquivo. | `npm install <pacote>` |
| **npm remove**      | Desinstala um ou mais M√≥dulos (pacotes) na aplica√ß√£o.        | `npm remove <pacote>`  |
| **npm init**        | Inicializa um projeto Node.js novo na pasta atual.           | `npm init`             |
| **npm init -y**     | Inicializa um projeto Node.js novo na pasta atual, sem fazer perguntas, utilizando as configura√ß√µes padr√£o. | `npm init -y`          |
| **npm outdated**    | Retorna a lista de depend√™ncias desatualizadas, mostrando a vers√£o mais  recente suportada pela configura√ß√£o no package.json e a √∫ltima vers√£o. | `npm outdated`         |
| **npm update**      | Atualiza projetos para a √∫ltima vers√£o respeitando o package.json.<br/>Pode-se atualizar um √∫nico pacote executando o comando `npm update <pacote>`. | `npm update`           |
| **npm list**        | Lista todos os pacotes instalados no projeto.                | `npm list`             |
| **npm audit**       | Executa uma auditoria no projeto para identificar se existe alguma depend√™ncia com vulnerabilidade conhecida, que precisa ser atualizada ou removida. | `npm audit`            |
| **npm audit --fix** | Executa uma auditoria no projeto para identificar se existe alguma depend√™ncia com vulnerabilidade conhecida, que precisa ser atualizada ou removida, com a diferen√ßa que o NPM tentar√° corrigir o problema de forma autom√°tica. | `npm audit --fix`      |

<br />

<h3>5.5. package.json</h3>



O **package.json** √© um elemento chave em muitas aplica√ß√µes do ecossistema Node.js. O package.json √© uma esp√©cie de manifesto do seu projeto. Ele pode fazer v√°rias coisas, completamente n√£o relacionadas. Ele √© um reposit√≥rio central de configura√ß√µes de ferramentas, por exemplo. Ele tamb√©m √© onde npm armazena os nomes e vers√µes dos pacotes instalados. Resumindo, ele guarda todas as informa√ß√µes necess√°rias para a sua aplica√ß√£o ser executada dentro do ambiente Node.js.

A partir da vers√£o 5 do Node.js, al√©m do arquivo **package.json**, o Node.js tamb√©m gera um segundo arquivo de manifesto chamado **package-lock.json**, que tem como objetivo garantir o uso da vers√£o correta dos pacotes listados no arquivo **package.json**.

Para entendermos melhor, imagine que voc√™ desenvolveu uma aplica√ß√£o JavaScript e utilizou um pacote chamado **readline-sync_1.4.10**. Ao concluir o seu projeto, voc√™ compartilhou o seu c√≥digo, atrav√©s do Github e enviou o link para uma pessoa desenvolvedora do seu time. 

Para usar o seu c√≥digo, pessoa desenvolvedora do seu time ter√° que clonar o seu reposit√≥rio no Github e antes de executar o seu c√≥digo, ela precisar√° abrir o terminal dentro da pasta do projeto e executar o comando **npm install** para instalar todos os pacotes listados no arquivo **package.json**. Imagine que no dia em que a pessoa desenvolvedora do seu time execute o comando **npm install**, foi lan√ßada uma nova atualiza√ß√£o do pacote **readline-sync** para corrigir um bug (*bug fixes*), a vers√£o **1.4.11**. Teoricamente, n√£o interferiria no funcionamento do seu c√≥digo, mas na pr√°tica essa mudan√ßa de vers√£o pode gerar algum erro ou anomalia na sua aplica√ß√£o. √â neste cen√°rio que entra em cena o arquivo **package-lock.json**.

O arquivo **package-lock.json** garante que todos os pacotes instalados atrav√©s do comando **npm install** ter√£o exatamente as mesmas vers√µes dos pacotes que voc√™ utilizou no desenvolvimento da sua aplica√ß√£o. Sem o arquivo **package-lock.json** o NPM ir√° instalar as vers√µes mais atuais.

<br />

| <img src="https://i.imgur.com/hOgWvSc.png" title="source: imgur.com" width="80px"/> | <div align="left"> **ATEN√á√ÉO:** *Tenha muito cuidado ao efetuar altera√ß√µes no conte√∫do do arquivo package.json ou excluir o arquivo package-lock.json. Dependendo da altera√ß√£o que for realizada, a sua aplica√ß√£o pode parar de funcionar.* </div> |
| ------------------------------------------------------------ | ------------------------------------------------------------ |

<br />

<h3>5.6. Bibliotecas, Ferramentas e Frameworks</h3>



Na lista abaixo,  veremos as principais **bibliotecas, ferramentas e frameworks JavaScript** que podem ser utilizados em conjunto com o **Node.js** em ambientes *server-side* ou durante o processo de desenvolvimento:

- **Bibliotecas Frontend:**
  - **React** ‚Äì Biblioteca declarativa para constru√ß√£o de interfaces de usu√°rio, amplamente usada em aplica√ß√µes web. Embora seja executada no navegador, pode ser utilizada no servidor por meio de renderiza√ß√£o no lado do servidor (*Server-Side Rendering ‚Äì SSR*), com ferramentas como o Next.js.
- **Ferramentas de Build/Transpila√ß√£o:**
  - **Babel** ‚Äì Transpilador que converte c√≥digo JavaScript moderno (ES6+) em vers√µes compat√≠veis com navegadores mais antigos.
  - **Webpack** ‚Äì Empacotador de m√≥dulos (module bundler), que re√∫ne e otimiza arquivos de front-end, sendo amplamente utilizado com Node.js em ambientes de desenvolvimento.
- **Frameworks Backend (Node.js):**
  - **Express** ‚Äì Framework minimalista e flex√≠vel para constru√ß√£o de APIs e aplica√ß√µes web no ambiente Node.js.
  - **NestJS** ‚Äì Framework backend com arquitetura inspirada em Angular, focado em aplica√ß√µes escal√°veis e robustas com TypeScript.
- **Frameworks Frontend com suporte a SSR:**
  - **Angular** ‚Äì Framework completo para aplica√ß√µes frontend. Embora sua execu√ß√£o principal ocorra no navegador, pode ser renderizado no servidor com Angular Universal.
  - **Next.js** ‚Äì Framework baseado em React que permite renderiza√ß√£o h√≠brida (SSR e SSG), amplamente usado para aplica√ß√µes fullstack com Node.js no backend.
- **Frameworks Mobile:**
  - **React Native** ‚Äì Framework baseado em React para desenvolvimento de aplica√ß√µes m√≥veis nativas (iOS e Android). Embora n√£o execute diretamente no Node.js, ele utiliza ferramentas baseadas em Node.js no processo de build e desenvolvimento.

<br />

> **SSR (Server-Side Rendering):** A p√°gina √© **gerada no servidor a cada requisi√ß√£o**, com dados atualizados em tempo real. O servidor monta o HTML da p√°gina dinamicamente, com base nos dados atuais, e s√≥ ent√£o envia ao navegador.
>
> **SSG (Static Site Generation):** A p√°gina √© **gerada no build** e servida como **HTML est√°tico**. O HTML da p√°gina √© gerado uma √∫nica vez e armazenado como arquivo est√°tico, sendo servido rapidamente a cada requisi√ß√£o.

<br />

------

## üîë Pontos-chave

1. **Node.js** √© um **runtime de execu√ß√£o JavaScript do lado servidor (\*server-side\*)**, permitindo executar c√≥digo JavaScript fora do navegador.
2. **Node.js n√£o √© uma linguagem nem um framework**, mas sim um ambiente que fornece APIs para intera√ß√£o com sistema de arquivos, rede, sistema operacional e outros recursos do servidor.
3. O **JavaScript** √© composto por tr√™s elementos principais: a **linguagem**, o **mecanismo (engine)** e o **runtime**, sendo o Node.js um desses ambientes de execu√ß√£o.
4. O **V8**, mecanismo JavaScript utilizado pelo Node.js, executa o c√≥digo por meio de t√©cnicas modernas como **compila√ß√£o Just-In-Time (JIT)**, combinando interpreta√ß√£o e compila√ß√£o para melhorar o desempenho.
5. O **runtime do navegador** fornece APIs voltadas √† Web, como DOM e Window, enquanto o **runtime do Node.js** oferece APIs voltadas ao ambiente servidor, como HTTP, sistema de arquivos e processos.
6. O **Node.js** utiliza um ecossistema baseado em m√≥dulos, podendo consumir **m√≥dulos nativos**, **m√≥dulos de terceiros** e **m√≥dulos personalizados**.
7. O **NPM (Node Package Manager)** √© o gerenciador de pacotes padr√£o do Node.js, respons√°vel por instalar, atualizar e gerenciar depend√™ncias dos projetos JavaScript.
8. O arquivo **package.json** funciona como o manifesto do projeto, armazenando metadados, scripts e depend√™ncias, enquanto o **package-lock.json** garante a consist√™ncia das vers√µes instaladas.
9. O **Node.js** oferece suporte aos **ES Modules (`import`/`export`)**, alinhando-se ao padr√£o ECMAScript e √†s pr√°ticas modernas de desenvolvimento.
10. Mesmo em projetos **Frontend**, o Node.js √© essencial para executar ferramentas de build, gerenciar depend√™ncias e dar suporte a frameworks modernos como **React, Angular e Next.js**.

<br />
<br />

<div align="left"><a href="README.md"><img src="https://i.imgur.com/XMgF3gl.png" title="source: imgur.com" width="3%"/>Voltar</a></div>
